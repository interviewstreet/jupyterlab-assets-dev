"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[1171,6685],{1171:(t,e,r)=>{r.r(e);r.d(e,{default:()=>b});var a=r(49655);var n=r.n(a);var o=r(87447);var i=r.n(o);var s=r(3010);var c=r.n(s);var l=r(68299);var d=r.n(l);var u=r(50724);var m=r.n(u);var p=r(27425);var h=r.n(p);const f="@jupyterlab/htmlviewer-extension:plugin";const y="HTML Viewer";var T;(function(t){t.trustHTML="htmlviewer:trust-html"})(T||(T={}));const v={activate:g,id:f,description:"Adds HTML file viewer and provides its tracker.",provides:s.IHTMLViewerTracker,requires:[u.ITranslator],optional:[o.ICommandPalette,a.ILayoutRestorer,l.ISettingRegistry,o.IToolbarWidgetRegistry],autoStart:true};function g(t,e,r,a,n,i){let c;const l=e.load("jupyterlab");if(i){i.addFactory(y,"refresh",(t=>s.ToolbarItems.createRefreshButton(t,e)));i.addFactory(y,"trust",(t=>s.ToolbarItems.createTrustButton(t,e)));if(n){c=(0,o.createToolbarFactory)(i,n,y,v.id,e)}}const d={name:"html",contentType:"file",fileFormat:"text",displayName:l.__("HTML File"),extensions:[".html"],mimeTypes:["text/html"],icon:p.html5Icon};t.docRegistry.addFileType(d);const u=new s.HTMLViewerFactory({name:y,label:l.__("HTML Viewer"),fileTypes:["html"],defaultFor:["html"],readOnly:true,toolbarFactory:c,translator:e});const m=new o.WidgetTracker({namespace:"htmlviewer"});if(a){void a.restore(m,{command:"docmanager:open",args:t=>({path:t.context.path,factory:"HTML Viewer"}),name:t=>t.context.path})}let h=false;if(n){const e=n.load(f);const r=t=>{h=t.get("trustByDefault").composite};Promise.all([e,t.restored]).then((([t])=>{r(t);t.changed.connect((t=>{r(t)}))})).catch((t=>{console.error(t.message)}))}t.docRegistry.addWidgetFactory(u);u.widgetCreated.connect(((e,r)=>{var a,n;void m.add(r);r.context.pathChanged.connect((()=>{void m.save(r)}));r.trustedChanged.connect((()=>{t.commands.notifyCommandChanged(T.trustHTML)}));r.trusted=h;r.title.icon=d.icon;r.title.iconClass=(a=d.iconClass)!==null&&a!==void 0?a:"";r.title.iconLabel=(n=d.iconLabel)!==null&&n!==void 0?n:""}));t.commands.addCommand(T.trustHTML,{label:l.__("Trust HTML File"),caption:l.__(`Whether the HTML file is trusted.\n    Trusting the file allows scripts to run in it,\n    which may result in security risks.\n    Only enable for files you trust.`),isEnabled:()=>!!m.currentWidget,isToggled:()=>{const t=m.currentWidget;if(!t){return false}const e=t.content.sandbox;return e.indexOf("allow-scripts")!==-1},execute:()=>{const t=m.currentWidget;if(!t){return}t.trusted=!t.trusted}});if(r){r.addItem({command:T.trustHTML,category:l.__("File Operations")})}return m}const b=v}}]);
//# sourceMappingURL=1171.82b2c01ac9dbb244d6b3.js.map?v=82b2c01ac9dbb244d6b3