"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[5904,6932],{15904:(e,n,o)=>{o.r(n);o.d(n,{default:()=>v});var t=o(49655);var l=o.n(t);var a=o(68299);var d=o.n(a);var i=o(41252);var s=o.n(i);var r=o(50724);var u=o.n(r);var c=o(27425);var m=o.n(c);var g;(function(e){e.displayNumbering="toc:display-numbering";e.displayH1Numbering="toc:display-h1-numbering";e.displayOutputNumbering="toc:display-outputs-numbering";e.showPanel="toc:show-panel";e.toggleCollapse="toc:toggle-collapse"})(g||(g={}));async function p(e,n,o,t,l,a){const d=(o!==null&&o!==void 0?o:r.nullTranslator).load("jupyterlab");let s={...i.TableOfContents.defaultConfig};const u=new i.TableOfContentsPanel(o!==null&&o!==void 0?o:undefined);u.title.icon=c.tocIcon;u.title.caption=d.__("Table of Contents");u.id="table-of-contents";u.node.setAttribute("role","region");u.node.setAttribute("aria-label",d.__("Table of Contents section"));e.commands.addCommand(g.displayH1Numbering,{label:d.__("Show first-level heading number"),execute:()=>{if(u.model){u.model.setConfiguration({numberingH1:!u.model.configuration.numberingH1})}},isEnabled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.supportedOptions.includes("numberingH1"))!==null&&n!==void 0?n:false},isToggled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.configuration.numberingH1)!==null&&n!==void 0?n:false}});e.commands.addCommand(g.displayNumbering,{label:d.__("Show heading number in the document"),icon:e=>e.toolbar?c.numberingIcon:undefined,execute:()=>{if(u.model){u.model.setConfiguration({numberHeaders:!u.model.configuration.numberHeaders});e.commands.notifyCommandChanged(g.displayNumbering)}},isEnabled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.supportedOptions.includes("numberHeaders"))!==null&&n!==void 0?n:false},isToggled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.configuration.numberHeaders)!==null&&n!==void 0?n:false}});e.commands.addCommand(g.displayOutputNumbering,{label:d.__("Show output headings"),execute:()=>{if(u.model){u.model.setConfiguration({includeOutput:!u.model.configuration.includeOutput})}},isEnabled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.supportedOptions.includes("includeOutput"))!==null&&n!==void 0?n:false},isToggled:()=>{var e,n;return(n=(e=u.model)===null||e===void 0?void 0:e.configuration.includeOutput)!==null&&n!==void 0?n:false}});e.commands.addCommand(g.showPanel,{label:d.__("Table of Contents"),execute:()=>{e.shell.activateById(u.id)}});function m(e){return e.headings.some((e=>{var n;return!((n=e.collapsed)!==null&&n!==void 0?n:false)}))}e.commands.addCommand(g.toggleCollapse,{label:()=>u.model&&!m(u.model)?d.__("Expand All Headings"):d.__("Collapse All Headings"),icon:e=>e.toolbar?u.model&&!m(u.model)?c.expandAllIcon:c.collapseAllIcon:undefined,execute:()=>{if(u.model){if(m(u.model)){u.model.toggleCollapse({collapsed:true})}else{u.model.toggleCollapse({collapsed:false})}}},isEnabled:()=>u.model!==null});const p=new i.TableOfContentsTracker;if(t){t.add(u,"@jupyterlab/toc:plugin")}let f;if(a){try{f=await a.load(b.id);const n=n=>{const o=n.composite;for(const e of[...Object.keys(s)]){const n=o[e];if(n!==undefined){s[e]=n}}if(l){for(const e of l.widgets("main")){const n=p.get(e);if(n){n.setConfiguration(s)}}}else{if(e.shell.currentWidget){const n=p.get(e.shell.currentWidget);if(n){n.setConfiguration(s)}}}};if(f){f.changed.connect(n);n(f)}}catch(I){console.error(`Failed to load settings for the Table of Contents extension.\n\n${I}`)}}const v=new c.CommandToolbarButton({commands:e.commands,id:g.displayNumbering,args:{toolbar:true},label:""});v.addClass("jp-toc-numberingButton");u.toolbar.addItem("display-numbering",v);u.toolbar.addItem("spacer",c.Toolbar.createSpacerItem());u.toolbar.addItem("collapse-all",new c.CommandToolbarButton({commands:e.commands,id:g.toggleCollapse,args:{toolbar:true},label:""}));const C=new c.MenuSvg({commands:e.commands});C.addItem({command:g.displayH1Numbering});C.addItem({command:g.displayOutputNumbering});const h=new c.ToolbarButton({tooltip:d.__("More actionsâ€¦"),icon:c.ellipsesIcon,actualOnClick:true,onClick:()=>{const e=h.node.getBoundingClientRect();C.open(e.x,e.bottom)}});u.toolbar.addItem("submenu",h);e.shell.add(u,"left",{rank:400,type:"Table of Contents"});if(l){l.currentChanged.connect(y)}void e.restored.then((()=>{y()}));return p;function y(){var o;let t=e.shell.currentWidget;if(!t){return}let l=p.get(t);if(!l){l=(o=n.getModel(t,s))!==null&&o!==void 0?o:null;if(l){p.add(t,l)}t.disposed.connect((()=>{l===null||l===void 0?void 0:l.dispose()}))}if(u.model){u.model.headingsChanged.disconnect(T);u.model.collapseChanged.disconnect(T)}u.model=l;if(u.model){u.model.headingsChanged.connect(T);u.model.collapseChanged.connect(T)}_()}function _(){e.commands.notifyCommandChanged(g.displayNumbering);e.commands.notifyCommandChanged(g.toggleCollapse)}function T(){e.commands.notifyCommandChanged(g.toggleCollapse)}}const b={id:"@jupyterlab/toc-extension:registry",description:"Provides the table of contents registry.",autoStart:true,provides:i.ITableOfContentsRegistry,activate:()=>new i.TableOfContentsRegistry};const f={id:"@jupyterlab/toc-extension:tracker",description:"Adds the table of content widget and provides its tracker.",autoStart:true,provides:i.ITableOfContentsTracker,requires:[i.ITableOfContentsRegistry],optional:[r.ITranslator,t.ILayoutRestorer,t.ILabShell,a.ISettingRegistry],activate:p};const v=[b,f]}}]);
//# sourceMappingURL=5904.a931f611fae8132ce196.js.map?v=a931f611fae8132ce196