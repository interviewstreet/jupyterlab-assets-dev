"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[134,9321],{89321:(e,n,r)=>{r.r(n);r.d(n,{createMarkdownParser:()=>p,default:()=>w});var t=r(55172);var a=r.n(t);var i=r(78098);var o=r.n(i);var l=r(1458);var c=r.n(l);var s=r(59238);var u=r.n(s);var d=r(90416);var f=r.n(d);const g="```~~~";function p(e,n){return{render:r=>k.render(r,e,n)}}const v={id:"@jupyterlab/markedparser-extension:plugin",description:"Provides the Markdown parser.",autoStart:true,provides:s.IMarkdownParser,requires:[l.IEditorLanguageRegistry],optional:[d.IMermaidMarkdown],activate:(e,n,r)=>p(n,{blocks:r?[r]:[]})};const w=v;var k;(function(e){let n=null;let a=null;let o=[];let l=null;let c={};let s=new i.LruCache;async function u(e,n,r){l=n;if(!a){a=await d(r)}return a(e,c)}e.render=u;async function d(e){if(a){return a}if(n){return await n.promise}o=(e===null||e===void 0?void 0:e.blocks)||[];o=o.sort(((e,n)=>{var r,t;return((r=e.rank)!==null&&r!==void 0?r:Infinity)-((t=n.rank)!==null&&t!==void 0?t:Infinity)}));n=new t.PromiseDelegate;const[{marked:i,Renderer:l},s]=await Promise.all([r.e(5316).then(r.t.bind(r,65316,23)),f()]);for(const n of s){i.use(n)}c={async:true,gfm:true,walkTokens:w,renderer:p(l)};a=i;n.resolve(a);return a}e.initializeMarked=d;async function f(){return Promise.all([(async()=>(await r.e(2241).then(r.t.bind(r,82241,23))).gfmHeadingId())(),(async()=>(await r.e(9923).then(r.t.bind(r,39923,23))).mangle())()])}function p(e){const n=new e;const r=n.code;n.code=(e,t)=>{for(const n of o){if(n.languages.includes(t)){const r=n.render(e);if(r!=null){return r}}}const a=`${t}${g}${e}${g}`;const i=s.get(a);if(i!=null){return i}return r.call(n,e,t)};return n}async function v(e){const{lang:n,text:r}=e;if(!n||!l){return}const t=`${n}${g}${r}${g}`;if(s.get(t)){return}const a=document.createElement("div");try{await l.highlight(r,l.findBest(n),a);const e=`<pre><code class="language-${n}">${a.innerHTML}</code></pre>`;s.set(t,e)}catch(i){console.error(`Failed to highlight ${n} code`,i)}finally{a.remove()}}async function w(e){switch(e.type){case"code":if(e.lang){for(const n of o){if(n.languages.includes(e.lang)){await n.walk(e.text);return}}}await v(e)}}})(k||(k={}))}}]);
//# sourceMappingURL=134.ba17fcb6f6c2486f5251.js.map?v=ba17fcb6f6c2486f5251