(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[9144],{27242:(e,t,n)=>{"use strict";n.r(t);n.d(t,{Clipboard:()=>i,Collapse:()=>d,CommandLinker:()=>h,CommandToolbarButton:()=>ye,CommandToolbarButtonComponent:()=>ve,DOMUtils:()=>N,Dialog:()=>A,FilenameSearcher:()=>We,FilterBox:()=>Me,HoverBox:()=>L,ICommandPalette:()=>p,IFrame:()=>j,ISanitizer:()=>Xe,ISessionContextDialogs:()=>Ve,ISplashScreen:()=>Fe,IThemeManager:()=>Ye,IToolbarWidgetRegistry:()=>Je,IWindowResolver:()=>at,InputDialog:()=>K,MainAreaWidget:()=>ke,MenuFactory:()=>Pe,ModalCommandPalette:()=>g,Notification:()=>Ae,NotificationManager:()=>Ie,Printing:()=>J,ReactWidget:()=>E,ReactiveToolbar:()=>ge,Sanitizer:()=>xe,SessionContext:()=>ne,Spinner:()=>Z,Styling:()=>C,ThemeManager:()=>Ue,Toolbar:()=>_e,ToolbarButton:()=>be,ToolbarButtonComponent:()=>me,ToolbarWidgetRegistry:()=>ot,UseSignal:()=>O,VDomModel:()=>k,VDomRenderer:()=>T,WidgetTracker:()=>P,WindowResolver:()=>lt,addCommandToolbarButtonClass:()=>Ce,addToolbarButtonClass:()=>fe,createDefaultFactory:()=>rt,createToolbarFactory:()=>st,defaultSanitizer:()=>$e,sessionContextDialogs:()=>se,setToolbar:()=>it,showDialog:()=>S,showErrorMessage:()=>I,translateKernelStatuses:()=>oe,updateFilterFunction:()=>je});var s=n(98034);var i;(function(e){function t(){return o.instance}e.getInstance=t;function n(e){o.instance=e}e.setInstance=n;function s(e){const t=document.body;const n=s=>{const i=s.clipboardData||window.clipboardData;if(typeof e==="string"){i.setData("text",e)}else{e.types().map((t=>{i.setData(t,e.getData(t))}))}s.preventDefault();t.removeEventListener("copy",n)};t.addEventListener("copy",n);i(t)}e.copyToSystem=s;function i(e,t="copy"){let n=window.getSelection();const s=[];for(let o=0,r=(n===null||n===void 0?void 0:n.rangeCount)||0;o<r;++o){s[o]=n.getRangeAt(o).cloneRange()}const i=document.createRange();i.selectNodeContents(e);if(n){n.removeAllRanges();n.addRange(i)}document.execCommand(t);n=window.getSelection();if(n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e){n.addRange(s[e])}}}e.generateEvent=i})(i||(i={}));var o;(function(e){e.instance=new s.MimeData})(o||(o={}));var r=n(29131);var a=n(8595);var l=n(18453);class d extends l.Widget{constructor(e){super(e);this._collapseChanged=new a.Signal(this);const{widget:t,collapsed:n=true}=e;this.addClass("jp-Collapse");this._header=new l.Widget;this._header.addClass("jp-Collapse-header");this._content=new l.Panel;this._content.addClass("jp-Collapse-contents");const s=new l.PanelLayout;this.layout=s;s.addWidget(this._header);s.addWidget(this._content);this.widget=t;this.collapsed=n}get widget(){return this._widget}set widget(e){const t=this._widget;if(t){t.title.changed.disconnect(this._onTitleChanged,this);t.parent=null}this._widget=e;e.title.changed.connect(this._onTitleChanged,this);this._onTitleChanged(e.title);this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){if(e===this._collapsed){return}if(e){this._collapse()}else{this._uncollapse()}}get collapseChanged(){return this._collapseChanged}toggle(){this.collapsed=!this.collapsed}dispose(){if(this.isDisposed){return}this._header=null;this._widget=null;this._content=null;super.dispose()}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:break}}onAfterAttach(e){this._header.node.addEventListener("click",this)}onBeforeDetach(e){this._header.node.removeEventListener("click",this)}_collapse(){this._collapsed=true;if(this._content){this._content.hide()}this._setHeader();this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=false;if(this._content){this._content.show()}this._setHeader();this._collapseChanged.emit(void 0)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._setHeader()}_setHeader(){(this._collapsed?r.caretUpIcon:r.caretDownIcon).element({container:this._header.node,label:this._widget.title.label,elementPosition:"right",height:"28px"})}}const c="commandlinker-command";const u="commandlinker-args";class h{constructor(e){this._isDisposed=false;this._commands=e.commands;document.body.addEventListener("click",this)}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;document.body.removeEventListener("click",this)}connectNode(e,t,n){e.setAttribute(`data-${c}`,t);if(n!==void 0){e.setAttribute(`data-${u}`,JSON.stringify(n))}return e}disconnectNode(e){e.removeAttribute(`data-${c}`);e.removeAttribute(`data-${u}`);return e}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:return}}populateVNodeDataset(e,t){let n;if(t!==void 0){n={[u]:JSON.stringify(t),[c]:e}}else{n={[c]:e}}return n}_evtClick(e){let t=e.target;while(t&&t.parentElement){if(t.hasAttribute(`data-${c}`)){e.preventDefault();const n=t.getAttribute(`data-${c}`);if(!n){return}const i=t.getAttribute(`data-${u}`);let o=s.JSONExt.emptyObject;if(i){o=JSON.parse(i)}void this._commands.execute(n,o);return}t=t.parentElement}}}const p=new s.Token("@jupyterlab/apputils:ICommandPalette");const _="jp-SearchIconGroup";class g extends l.Panel{constructor(e){super();this.addClass("jp-ModalCommandPalette");this.id="modal-command-palette";this.palette=e.commandPalette;this._commandPalette.commands.commandExecuted.connect((()=>{if(this.isAttached&&this.isVisible){this.hideAndReset()}}));this.node.tabIndex=0}get palette(){return this._commandPalette}set palette(e){this._commandPalette=e;if(!this.searchIconGroup){this._commandPalette.inputNode.insertAdjacentElement("afterend",this.createSearchIconGroup())}this.addWidget(e);this.hideAndReset()}attach(){l.Widget.attach(this,document.body)}detach(){l.Widget.detach(this)}hideAndReset(){this.hide();this._commandPalette.inputNode.value="";this._commandPalette.refresh()}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"blur":{if(this.node.contains(e.target)&&!this.node.contains(e.relatedTarget)){e.stopPropagation();this.hideAndReset()}break}case"contextmenu":e.preventDefault();e.stopPropagation();break;default:break}}get searchIconGroup(){return this._commandPalette.node.getElementsByClassName(_)[0]}createSearchIconGroup(){const e=document.createElement("div");e.classList.add(_);r.searchIcon.render(e);return e}onAfterAttach(e){this.node.addEventListener("keydown",this,true);this.node.addEventListener("contextmenu",this,true)}onAfterDetach(e){this.node.removeEventListener("keydown",this,true);this.node.removeEventListener("contextmenu",this,true)}onBeforeHide(e){document.removeEventListener("blur",this,true)}onAfterShow(e){document.addEventListener("blur",this,true)}onActivateRequest(e){if(this.isAttached){this.show();this._commandPalette.activate()}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation();e.preventDefault();this.hideAndReset();break;default:break}}}var m=n(47063);var f=n(64936);var b=n(2411);var v=n.n(b);var C;(function(e){function t(e,t=""){n(e,"select",t);n(e,"textarea",t);n(e,"input",t);n(e,"button",t)}e.styleNode=t;function n(e,t,n=""){if(e.localName===t){e.classList.add("jp-mod-styled")}if(e.localName==="select"){s(e)}const i=e.getElementsByTagName(t);for(let o=0;o<i.length;o++){const e=i[o];e.classList.add("jp-mod-styled");if(n){e.classList.add(n)}if(t==="select"){s(e)}}}e.styleNodeByTag=n;function s(e){const t=document.createElement("div");t.classList.add("jp-select-wrapper");e.addEventListener("focus",y.onFocus);e.addEventListener("blur",y.onFocus);e.classList.add("jp-mod-styled");if(e.parentElement){e.parentElement.replaceChild(t,e)}t.appendChild(e);t.appendChild(r.caretDownEmptyIcon.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"}));return t}e.wrapSelect=s})(C||(C={}));var y;(function(e){function t(e){const t=e.target;const n=t.parentElement;if(!n){return}if(e.type==="focus"){n.classList.add("jp-mod-focused")}else{n.classList.remove("jp-mod-focused")}}e.onFocus=t})(y||(y={}));var w=n(43006);class E extends l.Widget{static create(e){return new class extends E{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){f.MessageLoop.sendMessage(this,l.Widget.Msg.UpdateRequest)}onBeforeDetach(e){w.unmountComponentAtNode(this.node)}renderDOM(){return new Promise((e=>{const t=this.render();if(Array.isArray(t)){w.render(t,this.node,e)}else if(t){w.render(t,this.node,e)}}))}}class T extends E{constructor(e){super();this._modelChanged=new a.Signal(this);this.model=e!==null&&e!==void 0?e:null}get modelChanged(){return this._modelChanged}set model(e){if(this._model===e){return}if(this._model){this._model.stateChanged.disconnect(this.update,this)}this._model=e;if(e){e.stateChanged.connect(this.update,this)}this.update();this._modelChanged.emit(void 0)}get model(){return this._model}dispose(){if(this.isDisposed){return}this._model=null;super.dispose()}}class O extends b.Component{constructor(e){super(e);this.slot=(e,t)=>{if(this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)){return}this.setState({value:[e,t]})};this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class k{constructor(){this.stateChanged=new a.Signal(this);this._isDisposed=false}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;a.Signal.clearData(this)}}var R=n(99345);class P{constructor(e){this._currentChanged=new a.Signal(this);this._isDisposed=false;this._widgetAdded=new a.Signal(this);this._widgetUpdated=new a.Signal(this);const t=this._focusTracker=new l.FocusTracker;const n=this._pool=new R.RestorablePool(e);this.namespace=e.namespace;t.currentChanged.connect(((e,t)=>{if(t.newValue!==this.currentWidget){n.current=t.newValue}}),this);n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this);n.currentChanged.connect(((e,s)=>{if(s===null&&t.currentWidget){n.current=t.currentWidget;return}this.onCurrentChanged(s);this._currentChanged.emit(s)}),this);n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e);await this._pool.add(e);if(!this._focusTracker.activeWidget){this._pool.current=e}}get isDisposed(){return this._isDisposed}dispose(){if(this.isDisposed){return}this._isDisposed=true;this._pool.dispose();this._focusTracker.dispose();a.Signal.clearData(this)}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){return this._pool.restore(e)}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function S(e={}){const t=new A(e);return t.launch()}function I(e,t,n=[A.okButton({label:"Dismiss"})]){console.warn("Showing error:",t);const s=typeof t==="string"?t:t.message;const i=e+"----"+s;const o=D.errorMessagePromiseCache.get(i);if(o){return o}else{const t=S({title:e,body:s,buttons:n}).then((()=>{D.errorMessagePromiseCache.delete(i)}),(e=>{D.errorMessagePromiseCache.delete(i);throw e}));D.errorMessagePromiseCache.set(i,t);return t}}class A extends l.Widget{constructor(e={}){super();this._focusNodeSelector="";this.addClass("jp-Dialog");const t=D.handleOptions(e);const n=t.renderer;this._host=t.host;this._defaultButton=t.defaultButton;this._buttons=t.buttons;this._hasClose=t.hasClose;this._buttonNodes=(0,m.toArray)((0,m.map)(this._buttons,(e=>n.createButtonNode(e))));this._lastMouseDownInDialog=false;const s=this.layout=new l.PanelLayout;const i=new l.Panel;i.addClass("jp-Dialog-content");if(typeof e.body==="string"){i.addClass("jp-Dialog-content-small")}s.addWidget(i);this._body=t.body;const o=n.createHeader(t.title,(()=>this.reject()),e);const r=n.createBody(t.body);const a=n.createFooter(this._buttonNodes);i.addWidget(o);i.addWidget(r);i.addWidget(a);this._primary=this._buttonNodes[this._defaultButton];this._focusNodeSelector=e.focusNodeSelector;void A.tracker.add(this)}dispose(){const e=this._promise;if(e){this._promise=null;e.reject(void 0);m.ArrayExt.removeFirstOf(D.launchQueue,e.promise)}super.dispose()}launch(){if(this._promise){return this._promise.promise}const e=this._promise=new s.PromiseDelegate;const t=Promise.all(D.launchQueue);D.launchQueue.push(this._promise.promise);return t.then((()=>{if(!this._promise){return Promise.resolve({button:A.cancelButton(),value:null})}l.Widget.attach(this,this._host);return e.promise}))}resolve(e){if(!this._promise){return}if(e===undefined){e=this._defaultButton}this._resolve(this._buttons[e])}reject(){if(!this._promise){return}this._resolve(A.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"mousedown":this._evtMouseDown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault();e.stopPropagation();break;default:break}}onAfterAttach(e){var t;const n=this.node;n.addEventListener("keydown",this,true);n.addEventListener("contextmenu",this,true);n.addEventListener("click",this,true);document.addEventListener("mousedown",this,true);document.addEventListener("focus",this,true);this._first=D.findFirstFocusable(this.node);this._original=document.activeElement;if(this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body");const t=e===null||e===void 0?void 0:e.querySelector(this._focusNodeSelector);if(t){this._primary=t}}(t=this._primary)===null||t===void 0?void 0:t.focus()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,true);t.removeEventListener("contextmenu",this,true);t.removeEventListener("click",this,true);document.removeEventListener("focus",this,true);document.removeEventListener("mousedown",this,true);this._original.focus()}onCloseRequest(e){if(this._promise){this.reject()}super.onCloseRequest(e)}_evtClick(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0];if(!t.contains(e.target)){e.stopPropagation();e.preventDefault();if(this._hasClose&&!this._lastMouseDownInDialog){this.reject()}return}for(const n of this._buttonNodes){if(n.contains(e.target)){const e=this._buttonNodes.indexOf(n);this.resolve(e)}}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation();e.preventDefault();if(this._hasClose){this.reject()}break;case 37:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)-1;if(n<0){n=this._buttonNodes.length-1}const s=this._buttonNodes[n];e.stopPropagation();e.preventDefault();s.focus()}break}case 39:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)+1;if(n==this._buttons.length){n=0}const s=this._buttonNodes[n];e.stopPropagation();e.preventDefault();s.focus()}break}case 9:{const t=this._buttonNodes[this._buttons.length-1];if(document.activeElement===t&&!e.shiftKey){e.stopPropagation();e.preventDefault();this._first.focus()}break}case 13:{e.stopPropagation();e.preventDefault();const t=document.activeElement;let n;if(t instanceof HTMLButtonElement){n=this._buttonNodes.indexOf(t)}this.resolve(n);break}default:break}}_evtFocus(e){var t;const n=e.target;if(!this.node.contains(n)){e.stopPropagation();(t=this._buttonNodes[this._defaultButton])===null||t===void 0?void 0:t.focus()}}_evtMouseDown(e){const t=this.node.getElementsByClassName("jp-Dialog-content")[0];const n=e.target;this._lastMouseDownInDialog=t.contains(n)}_resolve(e){const t=this._promise;if(!t){this.dispose();return}this._promise=null;m.ArrayExt.removeFirstOf(D.launchQueue,t.promise);const n=this._body;let s=null;if(e.accept&&n instanceof l.Widget&&typeof n.getValue==="function"){s=n.getValue()}this.dispose();t.resolve({button:e,value:s})}}(function(e){function t(e){e.accept=e.accept!==false;const t=e.accept?"OK":"Cancel";return{label:e.label||t,iconClass:e.iconClass||"",iconLabel:e.iconLabel||"",caption:e.caption||"",className:e.className||"",accept:e.accept,actions:e.actions||[],displayType:e.displayType||"default"}}e.createButton=t;function n(e={}){e.accept=false;return t(e)}e.cancelButton=n;function s(e={}){e.accept=true;return t(e)}e.okButton=s;function i(e={}){e.displayType="warn";return t(e)}e.warnButton=i;function o(){e.tracker.forEach((e=>{e.dispose()}))}e.flush=o;class a{createHeader(e,t=(()=>{}),n={}){let s;const i=e=>{if(e.button===0){e.preventDefault();t()}};const o=e=>{const{key:n}=e;if(n==="Enter"||n===" "){t()}};if(typeof e==="string"){s=E.create(b.createElement(b.Fragment,null,e,n.hasClose&&b.createElement(r.Button,{className:"jp-Dialog-close-button",onMouseDown:i,onKeyDown:o,title:"Cancel",minimal:true},b.createElement(r.LabIcon.resolveReact,{icon:r.closeIcon,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"}))))}else{s=E.create(e)}s.addClass("jp-Dialog-header");C.styleNode(s.node);return s}createBody(e){let t;if(typeof e==="string"){t=new l.Widget({node:document.createElement("span")});t.node.textContent=e}else if(e instanceof l.Widget){t=e}else{t=E.create(e);f.MessageLoop.sendMessage(t,l.Widget.Msg.UpdateRequest)}t.addClass("jp-Dialog-body");C.styleNode(t.node);return t}createFooter(e){const t=new l.Widget;t.addClass("jp-Dialog-footer");(0,m.each)(e,(e=>{t.node.appendChild(e)}));C.styleNode(t.node);return t}createButtonNode(e){const t=document.createElement("button");t.className=this.createItemClass(e);t.appendChild(this.renderIcon(e));t.appendChild(this.renderLabel(e));return t}createItemClass(e){let t="jp-Dialog-button";if(e.accept){t+=" jp-mod-accept"}else{t+=" jp-mod-reject"}if(e.displayType==="warn"){t+=" jp-mod-warn"}const n=e.className;if(n){t+=` ${n}`}return t}renderIcon(e){const t=document.createElement("div");t.className=this.createIconClass(e);t.appendChild(document.createTextNode(e.iconLabel));return t}createIconClass(e){const t="jp-Dialog-buttonIcon";const n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");t.className="jp-Dialog-buttonLabel";t.title=e.caption;t.appendChild(document.createTextNode(e.label));return t}}e.Renderer=a;e.defaultRenderer=new a;e.tracker=new P({namespace:"@jupyterlab/apputils:Dialog"})})(A||(A={}));var D;(function(e){e.launchQueue=[];e.errorMessagePromiseCache=new Map;function t(e={}){var t,n,s,i,o,r,a,l;const d=(t=e.buttons)!==null&&t!==void 0?t:[A.cancelButton(),A.okButton()];return{title:(n=e.title)!==null&&n!==void 0?n:"",body:(s=e.body)!==null&&s!==void 0?s:"",host:(i=e.host)!==null&&i!==void 0?i:document.body,buttons:d,defaultButton:(o=e.defaultButton)!==null&&o!==void 0?o:d.length-1,renderer:(r=e.renderer)!==null&&r!==void 0?r:A.defaultRenderer,focusNodeSelector:(a=e.focusNodeSelector)!==null&&a!==void 0?a:"",hasClose:(l=e.hasClose)!==null&&l!==void 0?l:true}}e.handleOptions=t;function n(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}e.findFirstFocusable=n})(D||(D={}));var B=n(89650);var N;(function(e){function t(e,t,n){return m.ArrayExt.findFirstIndex(e,(e=>B.ElementExt.hitTest(e,t,n)))}e.hitTestNodes=t;function n(e,t){return e.querySelector(`.${t}`)}e.findElement=n;function i(e,t){return e.getElementsByClassName(t)}e.findElements=i;function o(){return`id-${s.UUID.uuid4()}`}e.createDomID=o})(N||(N={}));const x="jp-HoverBox";const $="jp-mod-outofview";var L;(function(e){function t(e){const{anchor:t,host:n,node:s,privilege:i}=e;s.classList.add(x);s.classList.add($);if(!n.contains(document.elementFromPoint(t.left,t.top))){return}s.style.maxHeight="";s.style.marginTop="";s.classList.remove($);const o=e.style||window.getComputedStyle(s);const r=window.innerHeight;const a=t.top;const l=r-t.bottom;const d=parseInt(o.marginTop,10)||0;const c=parseInt(o.minHeight,10)||e.minHeight;let u=parseInt(o.maxHeight,10)||e.maxHeight;const h=i==="forceAbove"?false:i==="forceBelow"?true:i==="above"?a<u&&a<l:l>=u||l>=a;if(h){u=Math.min(l-d,u)}else{u=Math.min(a,u);s.style.marginTop="0px"}s.style.maxHeight=`${u}px`;const p=u>c&&(l>=c||a>=c);if(!p){s.classList.add($);return}const _=e.offset&&e.offset.vertical&&e.offset.vertical.above||0;const g=e.offset&&e.offset.vertical&&e.offset.vertical.below||0;const m=h?r-l+g:a-s.getBoundingClientRect().height+_;s.style.top=`${Math.floor(m)}px`;const f=e.offset&&e.offset.horizontal||0;let b=t.left+f;s.style.left=`${Math.ceil(b)}px`;s.style.width="auto";if(s.scrollHeight>=u){s.style.width=`${2*s.offsetWidth-s.clientWidth}`;s.scrollTop=0}const v=s.getBoundingClientRect().right;if(v>window.innerWidth){b-=v-window.innerWidth;s.style.left=`${Math.ceil(b)}px`}}e.setGeometry=t})(L||(L={}));class j extends l.Widget{constructor(e={}){super({node:M.createNode()});this._sandbox=[];this.addClass("jp-IFrame");this.sandbox=e.sandbox||[];this.referrerPolicy=e.referrerPolicy||"no-referrer"}get referrerPolicy(){return this._referrerPolicy}set referrerPolicy(e){if(this._referrerPolicy===e){return}this._referrerPolicy=e;const t=this.node.querySelector("iframe");t.setAttribute("referrerpolicy",e)}get sandbox(){return this._sandbox.slice()}set sandbox(e){this._sandbox=e.slice();const t=this.node.querySelector("iframe");const n=e.length?e.join(" "):"";t.setAttribute("sandbox",n)}get url(){return this.node.querySelector("iframe").getAttribute("src")||""}set url(e){this.node.querySelector("iframe").setAttribute("src",e)}}var M;(function(e){function t(){const e=document.createElement("div");const t=document.createElement("iframe");t.setAttribute("sandbox","");t.style.height="100%";t.style.width="100%";e.appendChild(t);return e}e.createNode=t})(M||(M={}));const W="jp-Input-Dialog";const F="jp-Input-Boolean-Dialog";var K;(function(e){function t(e){return S(Object.assign(Object.assign({},e),{body:new H(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getBoolean=t;function n(e){return S(Object.assign(Object.assign({},e),{body:new G(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getNumber=n;function s(e){return S(Object.assign(Object.assign({},e),{body:new V(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"}))}e.getItem=s;function i(e){return S(Object.assign(Object.assign({},e),{body:new U(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getText=i;function o(e){return S(Object.assign(Object.assign({},e),{body:new q(e),buttons:[A.cancelButton({label:e.cancelLabel}),A.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}e.getPassword=o})(K||(K={}));class z extends l.Widget{constructor(e){super();this.addClass(W);this._input=document.createElement("input");this._input.classList.add("jp-mod-styled");this._input.id="jp-dialog-input-id";if(e!==undefined){const t=document.createElement("label");t.textContent=e;t.htmlFor=this._input.id;this.node.appendChild(t)}this.node.appendChild(this._input)}}class H extends z{constructor(e){super(e.label);this.addClass(F);this._input.type="checkbox";this._input.checked=e.value?true:false}getValue(){return this._input.checked}}class G extends z{constructor(e){super(e.label);this._input.type="number";this._input.value=e.value?e.value.toString():"0"}getValue(){if(this._input.value){return Number(this._input.value)}else{return Number.NaN}}}class U extends z{constructor(e){super(e.label);this._input.type="text";this._input.value=e.text?e.text:"";if(e.placeholder){this._input.placeholder=e.placeholder}}getValue(){return this._input.value}}class q extends z{constructor(e){super(e.label);this._input.type="password";this._input.value=e.text?e.text:"";if(e.placeholder){this._input.placeholder=e.placeholder}}getValue(){return this._input.value}}class V extends z{constructor(e){super(e.label);this._editable=e.editable||false;let t=e.current||0;let n;if(typeof t==="number"){n=Math.max(0,Math.min(t,e.items.length-1));t=""}this._list=document.createElement("select");e.items.forEach(((e,s)=>{const i=document.createElement("option");if(s===n){i.selected=true;t=e}i.value=e;i.textContent=e;this._list.appendChild(i)}));if(e.editable){const n=document.createElement("datalist");n.id="input-dialog-items";n.appendChild(this._list);this._input.type="list";this._input.value=t;this._input.setAttribute("list",n.id);if(e.placeholder){this._input.placeholder=e.placeholder}this.node.appendChild(n)}else{this._input.remove();this.node.appendChild(C.wrapSelect(this._list))}}getValue(){if(this._editable){return this._input.value}else{return this._list.value}}}var Y=n(70278);var X=n(42911);var J;(function(e){e.symbol=Symbol("printable");function t(t){if(typeof t!=="object"||!t){return false}return e.symbol in t}e.isPrintable=t;function n(n){if(t(n)){return n[e.symbol]()}return null}e.getPrintFunction=n;function s(e){return o(e.node)}e.printWidget=s;async function i(e){const t=X.ServerConnection.makeSettings();const n=await(await X.ServerConnection.makeRequest(e,{},t)).text();return o(n)}e.printURL=i;async function o(e){const t=typeof e==="string";const n=r();const s=window.document.body;s.appendChild(n);if(t){n.srcdoc=e;await l(n)}else{n.src="about:blank";await l(n);a(n,e)}const i=d();c(n.contentWindow);await i;s.removeChild(n)}function r(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");const t="visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;";e.setAttribute("style",t);e.setAttribute("width","0");e.setAttribute("height","0");return e}function a(e,t){e.contentDocument.body.appendChild(t.cloneNode(true));e.contentDocument.close()}function l(e){return new Promise((t=>{e.onload=()=>t()}))}function d(){return new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,true);document.removeEventListener("mousedown",t,true);document.removeEventListener("keydown",t,true);e()};document.addEventListener("mousemove",t,true);document.addEventListener("mousedown",t,true);document.addEventListener("keydown",t,true)}))}function c(e){const t=e.document.execCommand("print",false);if(!t){e.print()}}})(J||(J={}));class Z extends l.Widget{constructor(){super();this.addClass("jp-Spinner");this.node.tabIndex=-1;const e=document.createElement("div");e.className="jp-SpinnerContent";this.node.appendChild(e)}onActivateRequest(e){this.node.focus()}}var Q=n(14765);var ee=n(97083);var te=n(66853);class ne{constructor(e){var t,n,i,o;this._path="";this._name="";this._type="";this._prevKernelName="";this._isDisposed=false;this._disposed=new a.Signal(this);this._session=null;this._ready=new s.PromiseDelegate;this._initializing=false;this._initStarted=new s.PromiseDelegate;this._initPromise=new s.PromiseDelegate;this._isReady=false;this._isTerminating=false;this._isRestarting=false;this._kernelChanged=new a.Signal(this);this._sessionChanged=new a.Signal(this);this._statusChanged=new a.Signal(this);this._connectionStatusChanged=new a.Signal(this);this._pendingInput=false;this._iopubMessage=new a.Signal(this);this._unhandledMessage=new a.Signal(this);this._propertyChanged=new a.Signal(this);this._dialog=null;this._busyDisposable=null;this._pendingKernelName="";this._pendingSessionRequest="";this.sessionManager=e.sessionManager;this.specsManager=e.specsManager;this.translator=e.translator||Y.nullTranslator;this._trans=this.translator.load("jupyterlab");this._path=(t=e.path)!==null&&t!==void 0?t:s.UUID.uuid4();this._type=(n=e.type)!==null&&n!==void 0?n:"";this._name=(i=e.name)!==null&&i!==void 0?i:"";this._setBusy=e.setBusy;this._kernelPreference=(o=e.kernelPreference)!==null&&o!==void 0?o:{}}get session(){var e;return(e=this._session)!==null&&e!==void 0?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get pendingInput(){return this._pendingInput}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){this._kernelPreference=e}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get hasNoKernel(){return this.kernelDisplayName===this.noKernelName}get kernelDisplayName(){var e,t,n,s,i,o,r,a,l,d;const c=(e=this.session)===null||e===void 0?void 0:e.kernel;if(this._pendingKernelName===this.noKernelName){return this.noKernelName}if(!c&&!this.isReady&&this.kernelPreference.canStart!==false&&this.kernelPreference.shouldStart!==false){let e=this._pendingKernelName||ne.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:this.kernelPreference})||"";if(e){e=(s=(n=(t=this.specsManager.specs)===null||t===void 0?void 0:t.kernelspecs[e])===null||n===void 0?void 0:n.display_name)!==null&&s!==void 0?s:e;return e}return this.noKernelName}if(this._pendingKernelName){return(r=(o=(i=this.specsManager.specs)===null||i===void 0?void 0:i.kernelspecs[this._pendingKernelName])===null||o===void 0?void 0:o.display_name)!==null&&r!==void 0?r:this._pendingKernelName}if(!c){return this.noKernelName}return(d=(l=(a=this.specsManager.specs)===null||a===void 0?void 0:a.kernelspecs[c.name])===null||l===void 0?void 0:l.display_name)!==null&&d!==void 0?d:c.name}get kernelDisplayStatus(){var e,t;const n=(e=this.session)===null||e===void 0?void 0:e.kernel;if(this._isTerminating){return"terminating"}if(this._isRestarting){return"restarting"}if(this._pendingKernelName===this.noKernelName){return"unknown"}if(!n&&this._pendingKernelName){return"initializing"}if(!n&&!this.isReady&&this.kernelPreference.canStart!==false&&this.kernelPreference.shouldStart!==false){return"initializing"}return(t=(n===null||n===void 0?void 0:n.connectionStatus)==="connected"?n===null||n===void 0?void 0:n.status:n===null||n===void 0?void 0:n.connectionStatus)!==null&&t!==void 0?t:"unknown"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}get noKernelName(){return this._trans.__("No Kernel")}dispose(){if(this._isDisposed){return}this._isDisposed=true;this._disposed.emit();if(this._session){if(this.kernelPreference.shutdownOnDispose){this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)}))}this._session.dispose();this._session=null}if(this._dialog){this._dialog.dispose()}if(this._busyDisposable){this._busyDisposable.dispose();this._busyDisposable=null}a.Signal.clearData(this)}async restartKernel(){var e,t,n,s,i,o;const r=((e=this.session)===null||e===void 0?void 0:e.kernel)||null;if(this._isRestarting){return}this._isRestarting=true;this._isReady=false;this._statusChanged.emit("restarting");try{await((n=(t=this.session)===null||t===void 0?void 0:t.kernel)===null||n===void 0?void 0:n.restart());this._isReady=true}catch(a){console.error(a)}this._isRestarting=false;this._statusChanged.emit(((i=(s=this.session)===null||s===void 0?void 0:s.kernel)===null||i===void 0?void 0:i.status)||"unknown");this._kernelChanged.emit({name:"kernel",oldValue:r,newValue:((o=this.session)===null||o===void 0?void 0:o.kernel)||null})}async changeKernel(e={}){if(this.isDisposed){throw new Error("Disposed")}await this._initStarted.promise;return this._changeKernel(e)}async shutdown(){if(this.isDisposed||!this._initializing){return}await this._initStarted.promise;this._pendingSessionRequest="";this._pendingKernelName=this.noKernelName;return this._shutdownSession()}async initialize(){if(this._initializing){return this._initPromise.promise}this._initializing=true;const e=await this._initialize();if(!e){this._isReady=true;this._ready.resolve(undefined)}if(!this._pendingSessionRequest){this._initStarted.resolve(void 0)}this._initPromise.resolve(e);return e}async _initialize(){const e=this.sessionManager;await e.ready;await e.refreshRunning();const t=(0,m.find)(e.running(),(e=>e.path===this._path));if(t){try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(n){void this._handleSessionError(n);return Promise.reject(n)}}return await this._startIfNecessary()}async _shutdownSession(){var e;const t=this._session;const n=this._isTerminating;const s=this._isReady;this._isTerminating=true;this._isReady=false;this._statusChanged.emit("terminating");try{await(t===null||t===void 0?void 0:t.shutdown());this._isTerminating=false;t===null||t===void 0?void 0:t.dispose();this._session=null;const e=(t===null||t===void 0?void 0:t.kernel)||null;this._statusChanged.emit("unknown");this._kernelChanged.emit({name:"kernel",oldValue:e,newValue:null});this._sessionChanged.emit({name:"session",oldValue:t,newValue:null})}catch(i){this._isTerminating=n;this._isReady=s;const o=(e=t===null||t===void 0?void 0:t.kernel)===null||e===void 0?void 0:e.status;if(o===undefined){this._statusChanged.emit("unknown")}else{this._statusChanged.emit(o)}throw i}return}async _startIfNecessary(){var e;const t=this.kernelPreference;if(this.isDisposed||((e=this.session)===null||e===void 0?void 0:e.kernel)||t.shouldStart===false||t.canStart===false){return false}let n;if(t.id){n={id:t.id}}else{const e=ne.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:t});if(e){n={name:e}}}if(n){try{await this._changeKernel(n);return false}catch(s){}}return true}async _changeKernel(e={},t=false){if(e.name){this._pendingKernelName=e.name}if(!this._session){this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null})}if(!this._pendingSessionRequest){this._initStarted.resolve(void 0)}if(this._session&&!this._isTerminating){try{await this._session.changeKernel(e);return this._session.kernel}catch(o){void this._handleSessionError(o);throw o}}const n=te.PathExt.dirname(this._path);const i=this._pendingSessionRequest=te.PathExt.join(n,s.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:i,type:this._type,name:this._name,kernel:e});if(this._pendingSessionRequest!==t.path){await t.shutdown();t.dispose();return null}await t.setPath(this._path);await t.setName(this._name);if(this._session&&!this._isTerminating){await this._shutdownSession()}return this._handleNewSession(t)}catch(o){void this._handleSessionError(o);throw o}}_handleNewSession(e){var t,n,s;if(this.isDisposed){throw Error("Disposed")}if(!this._isReady){this._isReady=true;this._ready.resolve(undefined)}if(this._session){this._session.dispose()}this._session=e;this._pendingKernelName="";if(e){this._prevKernelName=(n=(t=e.kernel)===null||t===void 0?void 0:t.name)!==null&&n!==void 0?n:"";e.disposed.connect(this._onSessionDisposed,this);e.propertyChanged.connect(this._onPropertyChanged,this);e.kernelChanged.connect(this._onKernelChanged,this);e.statusChanged.connect(this._onStatusChanged,this);e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this);e.pendingInput.connect(this._onPendingInput,this);e.iopubMessage.connect(this._onIopubMessage,this);e.unhandledMessage.connect(this._onUnhandledMessage,this);if(e.path!==this._path){this._onPropertyChanged(e,"path")}if(e.name!==this._name){this._onPropertyChanged(e,"name")}if(e.type!==this._type){this._onPropertyChanged(e,"type")}}this._sessionChanged.emit({name:"session",oldValue:null,newValue:e});this._kernelChanged.emit({oldValue:null,newValue:(e===null||e===void 0?void 0:e.kernel)||null,name:"kernel"});this._statusChanged.emit(((s=e===null||e===void 0?void 0:e.kernel)===null||s===void 0?void 0:s.status)||"unknown");return(e===null||e===void 0?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="";let n="";try{t=e.traceback;n=e.message}catch(e){}await this._displayKernelError(n,t)}async _displayKernelError(e,t){const n=b.createElement("div",null,e&&b.createElement("pre",null,e),t&&b.createElement("details",{className:"jp-mod-wide"},b.createElement("pre",null,t)));const s=this._dialog=new A({title:this._trans.__("Error Starting Kernel"),body:n,buttons:[A.okButton()]});await s.launch();this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){var n;if(t==="dead"){const t=(n=e.kernel)===null||n===void 0?void 0:n.model;if(t===null||t===void 0?void 0:t.reason){const e=t.traceback||"";void this._displayKernelError(t.reason,e)}}if(this._setBusy){if(t==="busy"){if(!this._busyDisposable){this._busyDisposable=this._setBusy()}}else{if(this._busyDisposable){this._busyDisposable.dispose();this._busyDisposable=null}}}this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onPendingInput(e,t){this._pendingInput=t}_onIopubMessage(e,t){if(t.header.msg_type==="shutdown_reply"){this.session.kernel.removeInputGuard()}this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}(function(e){function t(e){return ie.getDefaultKernel(e)}e.getDefaultKernel=t})(ne||(ne={}));const se={async selectKernel(e,t){if(e.isDisposed){return Promise.resolve()}t=t||Y.nullTranslator;const n=t.load("jupyterlab");let s=n.__("Cancel");if(e.hasNoKernel){s=e.kernelDisplayName}const i=[A.cancelButton({label:s}),A.okButton({label:n.__("Select")})];const o=new A({title:n.__("Select Kernel"),body:new ie.KernelSelector(e,t),buttons:i});const r=await o.launch();if(e.isDisposed||!r.button.accept){return}const a=r.value;if(a===null&&!e.hasNoKernel){return e.shutdown()}if(a){await e.changeKernel(a)}},async restart(e,t){var n;t=t||Y.nullTranslator;const s=t.load("jupyterlab");await e.initialize();if(e.isDisposed){throw new Error("session already disposed")}const i=(n=e.session)===null||n===void 0?void 0:n.kernel;if(!i&&e.prevKernelName){await e.changeKernel({name:e.prevKernelName});return true}if(!i){throw new Error("No kernel to restart")}const o=A.warnButton({label:"Restart"});const r=await S({title:s.__("Restart Kernel?"),body:s.__("Do you want to restart the current kernel? All variables will be lost."),buttons:[A.cancelButton(),o]});if(i.isDisposed){return false}if(r.button.accept){await e.restartKernel();return true}return false}};var ie;(function(e){class t extends l.Widget{constructor(e,t){super({node:n(e,t)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}e.KernelSelector=t;function n(e,t){t=t||Y.nullTranslator;const n=t.load("jupyterlab");const s=document.createElement("div");const r=document.createElement("label");r.textContent=`${n.__("Select kernel for:")} "${e.name}"`;s.appendChild(r);const a=o(e);const l=document.createElement("select");i(l,a,t,!e.hasNoKernel?e.kernelDisplayName:null);s.appendChild(l);return s}function s(e){var t;const{specs:n,preference:s}=e;const{name:i,language:o,shouldStart:r,canStart:a,autoStartDefault:l}=s;if(!n||r===false||a===false){return null}const d=l?n.default:null;if(!i&&!o){return d}for(const u in n.kernelspecs){if(u===i){return i}}if(!o){return d}const c=[];for(const u in n.kernelspecs){const e=(t=n.kernelspecs[u])===null||t===void 0?void 0:t.language;if(o===e){c.push(u)}}if(c.length===1){const e=c[0];console.warn("No exact match found for "+e+", using kernel "+e+" that matches "+"language="+o);return e}return d}e.getDefaultKernel=s;function i(e,t,n,s=null){while(e.firstChild){e.removeChild(e.firstChild)}const{preference:i,sessions:o,specs:l}=t;const{name:c,id:u,language:h,canStart:p,shouldStart:_}=i;n=n||Y.nullTranslator;const g=n.load("jupyterlab");if(!l||p===false){e.appendChild(a(n));e.value="null";e.disabled=true;return}e.disabled=false;const f=Object.create(null);const b=Object.create(null);for(const r in l.kernelspecs){const e=l.kernelspecs[r];f[r]=e.display_name;b[r]=e.language}const v=[];if(c&&c in l.kernelspecs){v.push(c)}if(h){for(const e in l.kernelspecs){if(c!==e&&b[e]===h){v.push(e)}}}if(!v.length){v.push(l.default)}const C=document.createElement("optgroup");C.label=g.__("Start Preferred Kernel");v.sort(((e,t)=>f[e].localeCompare(f[t])));for(const a of v){C.appendChild(r(a,f[a]))}if(C.firstChild){e.appendChild(C)}e.appendChild(a());const y=document.createElement("optgroup");y.label=g.__("Start Other Kernel");const w=[];for(const r in l.kernelspecs){if(v.indexOf(r)!==-1){continue}w.push(r)}w.sort(((e,t)=>f[e].localeCompare(f[t])));for(const a of w){y.appendChild(r(a,f[a]))}if(w.length){e.appendChild(y)}if(_===false){e.value="null"}else{let t=0;if(s){t=[...e.options].findIndex((e=>e.text===s));t=Math.max(t,0)}e.selectedIndex=t}if(!o){return}const E=[];const T=[];(0,m.each)(o,(e=>{var t;if(h&&e.kernel&&b[e.kernel.name]===h&&e.kernel.id!==u){E.push(e)}else if(((t=e.kernel)===null||t===void 0?void 0:t.id)!==u){T.push(e)}}));const O=document.createElement("optgroup");O.label=g.__("Use Kernel from Preferred Session");e.appendChild(O);if(E.length){E.sort(((e,t)=>e.path.localeCompare(t.path)));(0,m.each)(E,(e=>{const t=e.kernel?f[e.kernel.name]:"";O.appendChild(d(e,t,n))}))}const k=document.createElement("optgroup");k.label=g.__("Use Kernel from Other Session");e.appendChild(k);if(T.length){T.sort(((e,t)=>e.path.localeCompare(t.path)));(0,m.each)(T,(e=>{const t=e.kernel?f[e.kernel.name]||e.kernel.name:"";k.appendChild(d(e,t,n))}))}}e.populateKernelSelect=i;function o(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}function r(e,t){const n=document.createElement("option");n.text=t;n.value=JSON.stringify({name:e});return n}function a(e){e=e||Y.nullTranslator;const t=e.load("jupyterlab");const n=document.createElement("optgroup");n.label=t.__("Use No Kernel");const s=document.createElement("option");s.text=t.__("No Kernel");s.value="null";n.appendChild(s);return n}function d(e,t,n){var s,i;n=n||Y.nullTranslator;const o=n.load("jupyterlab");const r=document.createElement("option");const a=e.name||te.PathExt.basename(e.path);r.text=a;r.value=JSON.stringify({id:(s=e.kernel)===null||s===void 0?void 0:s.id});r.title=`${o.__("Path:")} ${e.path}\n`+`${o.__("Name:")} ${a}\n`+`${o.__("Kernel Name:")} ${t}\n`+`${o.__("Kernel Id:")} ${(i=e.kernel)===null||i===void 0?void 0:i.id}`;return r}})(ie||(ie={}));function oe(e){e=e||Y.nullTranslator;const t=e.load("jupyterlab");const n={unknown:t.__("Unknown"),starting:t.__("Starting"),idle:t.__("Idle"),busy:t.__("Busy"),terminating:t.__("Terminating"),restarting:t.__("Restarting"),autorestarting:t.__("Autorestarting"),dead:t.__("Dead"),connected:t.__("Connected"),connecting:t.__("Connecting"),disconnected:t.__("Disconnected"),initializing:t.__("Initializing"),"":""};return n}var re=n(72245);const ae="jp-Toolbar";const le="toolbar-popup-opener";const de="jp-Toolbar-item";const ce="jp-Toolbar-kernelName";const ue="jp-Toolbar-spacer";const he="jp-Toolbar-kernelStatus";class pe extends l.PanelLayout{constructor(){super(...arguments);this._dirty=false}onFitRequest(e){super.onFitRequest(e);if(this.parent.isAttached){if((0,m.some)(this.widgets,(e=>!e.isHidden))){this.parent.node.style.minHeight="var(--jp-private-toolbar-height)";this.parent.removeClass("jp-Toolbar-micro")}else{this.parent.node.style.minHeight="";this.parent.addClass("jp-Toolbar-micro")}}this._dirty=true;if(this.parent.parent){f.MessageLoop.sendMessage(this.parent.parent,l.Widget.Msg.FitRequest)}if(this._dirty){f.MessageLoop.sendMessage(this.parent,l.Widget.Msg.UpdateRequest)}}onUpdateRequest(e){super.onUpdateRequest(e);if(this.parent.isVisible){this._dirty=false}}onChildShown(e){super.onChildShown(e);this.parent.fit()}onChildHidden(e){super.onChildHidden(e);this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e);this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t);this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t);this.parent.fit()}}class _e extends l.Widget{constructor(e={}){var t;super();this.addClass(ae);this.layout=(t=e.layout)!==null&&t!==void 0?t:new pe}names(){const e=this.layout;return(0,m.map)(e.widgets,(e=>Te.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){const s=(0,m.find)(this.names(),(e=>e===t));if(s){return false}n.addClass(de);const i=this.layout;const o=Math.max(0,Math.min(e,i.widgets.length));i.insertWidget(o,n);Te.nameProperty.set(n,t);return true}insertAfter(e,t,n){return this._insertRelative(e,1,t,n)}insertBefore(e,t,n){return this._insertRelative(e,0,t,n)}_insertRelative(e,t,n,s){const i=(0,m.map)(this.names(),((e,t)=>({name:e,index:t})));const o=(0,m.find)(i,(t=>t.name===e));if(o){return this.insertItem(o.index+t,n,s)}return false}handleEvent(e){switch(e.type){case"click":this.handleClick(e);break;default:break}}handleClick(e){e.stopPropagation();if(e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`)){return}}if(this.node.contains(document.activeElement)){return}if(this.parent){this.parent.activate()}}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}class ge extends _e{constructor(){super();this.popupOpener=new Ee;this._widgetWidths={};this.insertItem(0,le,this.popupOpener);this.popupOpener.hide();this._resizer=new re.Throttler(this._onResize.bind(this),500)}dispose(){if(this.isDisposed){return}if(this._resizer){this._resizer.dispose()}super.dispose()}insertAfter(e,t,n){if(e===le){return false}return super.insertAfter(e,t,n)}insertItem(e,t,n){if(n instanceof Ee){return super.insertItem(e,t,n)}else{const s=Math.max(0,Math.min(e,this.layout.widgets.length-1));return super.insertItem(s,t,n)}}onBeforeHide(e){this.popupOpener.hidePopup();super.onBeforeHide(e)}onResize(e){super.onResize(e);if(e.width>0&&this._resizer){void this._resizer.invoke()}}_onResize(){if(this.parent&&this.parent.isAttached){const e=this.node.clientWidth;const t=this.popupOpener;const n=30;const s=2;const i=this.layout;let o=t.isHidden?s:s+n;let r=0;const a=[];const l=i.widgets.length-1;while(r<l){const s=i.widgets[r];this._saveWidgetWidth(s);o+=this._getWidgetWidth(s);if(a.length===0&&t.isHidden&&o+n>e){o+=n}if(o>e){a.push(s)}r++}while(a.length>0){const e=a.pop();o-=this._getWidgetWidth(e);t.addWidget(e)}if(t.widgetCount()>0){const s=[];let i=0;let r=t.widgetAt(i);const a=t.widgetCount();o+=this._getWidgetWidth(r);if(a===1&&o-n<=e){o-=n}while(o<e&&i<a){s.push(r);i++;r=t.widgetAt(i);if(r){o+=this._getWidgetWidth(r)}else{break}}while(s.length>0){const e=s.shift();this.addItem(Te.nameProperty.get(e),e)}}if(t.widgetCount()>0){t.updatePopup();t.show()}else{t.hide()}}}_saveWidgetWidth(e){const t=Te.nameProperty.get(e);this._widgetWidths[t]=e.hasClass(ue)?2:e.node.clientWidth}_getWidgetWidth(e){const t=Te.nameProperty.get(e);return this._widgetWidths[t]}}(function(e){function t(e,t){t=t||Y.nullTranslator;const n=t.load("jupyterlab");return new be({icon:r.stopIcon,onClick:()=>{var t,n;void((n=(t=e.session)===null||t===void 0?void 0:t.kernel)===null||n===void 0?void 0:n.interrupt())},tooltip:n.__("Interrupt the kernel")})}e.createInterruptButton=t;function n(e,t,n){n=n||Y.nullTranslator;const s=n.load("jupyterlab");return new be({icon:r.refreshIcon,onClick:()=>{void(t!==null&&t!==void 0?t:se).restart(e,n)},tooltip:s.__("Restart the kernel")})}e.createRestartButton=n;function s(){return new Te.Spacer}e.createSpacerItem=s;function i(e,t,n){const s=E.create(b.createElement(Te.KernelNameComponent,{sessionContext:e,dialogs:t!==null&&t!==void 0?t:se,translator:n}));s.addClass("jp-KernelName");return s}e.createKernelNameItem=i;function o(e,t){return new Te.KernelStatus(e,t)}e.createKernelStatusItem=o})(_e||(_e={}));function me(e){var t,n;const s=t=>{var n;if(t.button===0){t.preventDefault();(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const i=t=>{var n;const{key:s}=t;if(s==="Enter"||s===" "){(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const o=t=>{var n;if(t.button===0){(n=e.onClick)===null||n===void 0?void 0:n.call(e)}};const a=()=>{if(e.enabled===false&&e.disabledTooltip){return e.disabledTooltip}else if(e.pressed&&e.pressedTooltip){return e.pressedTooltip}else{return e.tooltip||e.iconLabel}};return b.createElement(r.Button,Object.assign({className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent","aria-pressed":e.pressed,"aria-disabled":e.enabled===false},e.dataset,{disabled:e.enabled===false,onClick:((t=e.actualOnClick)!==null&&t!==void 0?t:false)?o:undefined,onMouseDown:!((n=e.actualOnClick)!==null&&n!==void 0?n:false)?s:undefined,onKeyDown:i,title:a(),minimal:true}),(e.icon||e.iconClass)&&b.createElement(r.LabIcon.resolveReact,{icon:e.pressed?e.pressedIcon:e.icon,iconClass:(0,r.classes)(e.iconClass,"jp-Icon"),className:"jp-ToolbarButtonComponent-icon",tag:"span",stylesheet:"toolbarButton"}),e.label&&b.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}function fe(e){e.addClass("jp-ToolbarButton");return e}class be extends E{constructor(e={}){var t,n;super();this.props=e;fe(this);this._enabled=(t=e.enabled)!==null&&t!==void 0?t:true;this._pressed=this._enabled&&((n=e.pressed)!==null&&n!==void 0?n:false);this._onClick=e.onClick}set pressed(e){if(this.enabled&&e!==this._pressed){this._pressed=e;this.update()}}get pressed(){return this._pressed}set enabled(e){if(e!=this._enabled){this._enabled=e;if(!this._enabled){this._pressed=false}this.update()}}get enabled(){return this._enabled}set onClick(e){if(e!==this._onClick){this._onClick=e;this.update()}}get onClick(){return this._onClick}render(){return b.createElement(me,Object.assign({},this.props,{pressed:this.pressed,enabled:this.enabled,onClick:this.onClick}))}}function ve(e){return b.createElement(O,{signal:e.commands.commandChanged,shouldUpdate:(t,n)=>n.id===e.id&&n.type==="changed"||n.type==="many-changed"},(()=>b.createElement(me,Object.assign({},Te.propsFromCommand(e)))))}function Ce(e){e.addClass("jp-CommandToolbarButton");return e}class ye extends E{constructor(e){super();this.props=e;Ce(this)}render(){return b.createElement(ve,Object.assign({},this.props))}}class we extends l.Widget{constructor(){super();this.width=0;this.addClass("jp-Toolbar-responsive-popup");this.layout=new l.PanelLayout;l.Widget.attach(this,document.body);this.hide()}updateWidth(e){if(e>0){this.width=e;this.node.style.width=`${e}px`}}alignTo(e){const{height:t,width:n,x:s,y:i}=e.node.getBoundingClientRect();const o=this.width;this.node.style.left=`${s+n-o+1}px`;this.node.style.top=`${i+t+1}px`}insertWidget(e,t){this.layout.insertWidget(0,t)}widgetCount(){return this.layout.widgets.length}widgetAt(e){return this.layout.widgets[e]}}class Ee extends be{constructor(){super({icon:r.ellipsesIcon,onClick:()=>{this.handleClick()}});this.addClass("jp-Toolbar-responsive-opener");this.popup=new we}addWidget(e){this.popup.insertWidget(0,e)}dispose(){if(this.isDisposed){return}this.popup.dispose();super.dispose()}hide(){super.hide();this.hidePopup()}hidePopup(){this.popup.hide()}updatePopup(){this.popup.updateWidth(this.parent.node.clientWidth);this.popup.alignTo(this.parent)}widgetAt(e){return this.popup.widgetAt(e)}widgetCount(){return this.popup.widgetCount()}handleClick(){this.updatePopup();this.popup.setHidden(!this.popup.isHidden)}}var Te;(function(e){function t(e){var t,n;const{commands:s,id:i,args:o}=e;const r=s.iconClass(i,o);const a=s.iconLabel(i,o);const l=(t=e.icon)!==null&&t!==void 0?t:s.icon(i,o);const d=l===r?undefined:l;const c=s.label(i,o);let u=s.className(i,o);if(s.isToggled(i,o)){u+=" lm-mod-toggled"}if(!s.isVisible(i,o)){u+=" lm-mod-hidden"}let h=s.caption(i,o)||e.label||c||a;const p=s.keyBindings.find((e=>e.command===i));if(p){const e=Q.CommandRegistry.formatKeystroke(p.keys.join(" "));h=`${h} (${e})`}const _=()=>{void s.execute(i,o)};const g=s.isEnabled(i,o);return{className:u,dataset:{"data-command":e.id},icon:d,iconClass:r,tooltip:h,onClick:_,enabled:g,label:(n=e.label)!==null&&n!==void 0?n:c}}e.propsFromCommand=t;e.nameProperty=new ee.AttachedProperty({name:"name",create:()=>""});function n(){}e.noOp=n;class s extends l.Widget{constructor(){super();this.addClass(ue)}}e.Spacer=s;function i(e){const t=e.translator||Y.nullTranslator;const n=t.load("jupyterlab");const s=()=>{void e.dialogs.selectKernel(e.sessionContext,t)};return b.createElement(O,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>b.createElement(me,{className:ce,onClick:s,tooltip:n.__("Switch kernel"),label:e===null||e===void 0?void 0:e.kernelDisplayName})))}e.KernelNameComponent=i;class o extends l.Widget{constructor(e,t){super();this.translator=t||Y.nullTranslator;this._trans=this.translator.load("jupyterlab");this.addClass(he);this._statusNames=oe(this.translator);this._onStatusChanged(e);e.statusChanged.connect(this._onStatusChanged,this);e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed){return}const t=e.kernelDisplayStatus;const n={container:this.node,title:this._trans.__("Kernel %1",this._statusNames[t]||t),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};r.LabIcon.remove(this.node);if(t==="busy"||t==="starting"||t==="terminating"||t==="restarting"||t==="initializing"){r.circleIcon.element(n)}else if(t==="connecting"||t==="disconnected"||t==="unknown"){r.offlineBoltIcon.element(n)}else{r.circleEmptyIcon.element(n)}}}e.KernelStatus=o})(Te||(Te={}));const Oe=true;class ke extends l.Widget{constructor(e){super(e);this._changeGuard=false;this._spinner=new Z;this._isRevealed=false;this._evtMouseDown=()=>{if(!this.node.contains(document.activeElement)){this._focusContent()}};this.addClass("jp-MainAreaWidget");this.addClass("jp-MainAreaWidget-ContainStrict");this.id=N.createDomID();const t=(e.translator||Y.nullTranslator).load("jupyterlab");const n=this._content=e.content;n.node.setAttribute("role","region");n.node.setAttribute("aria-label",t.__("notebook content"));const s=this._toolbar=e.toolbar||new ge;s.node.setAttribute("role","navigation");s.node.setAttribute("aria-label",t.__("notebook actions"));const i=this._contentHeader=e.contentHeader||new l.BoxPanel({direction:"top-to-bottom",spacing:0});const o=this.layout=new l.BoxLayout({spacing:0});o.direction="top-to-bottom";l.BoxLayout.setStretch(s,0);l.BoxLayout.setStretch(i,0);l.BoxLayout.setStretch(n,1);o.addWidget(s);o.addWidget(i);o.addWidget(n);if(!n.id){n.id=N.createDomID()}n.node.tabIndex=0;this._updateTitle();n.title.changed.connect(this._updateTitle,this);this.title.closable=true;this.title.changed.connect(this._updateContentTitle,this);if(e.reveal){this.node.appendChild(this._spinner.node);this._revealed=e.reveal.then((()=>{if(n.isDisposed){this.dispose();return}n.disposed.connect((()=>this.dispose()));const e=document.activeElement===this._spinner.node;this._disposeSpinner();this._isRevealed=true;if(e){this._focusContent()}})).catch((e=>{const t=new l.Widget;t.addClass("jp-MainAreaWidget-error");const i=document.createElement("pre");i.textContent=String(e);t.node.appendChild(i);l.BoxLayout.setStretch(t,1);this._disposeSpinner();n.dispose();this._content=null;s.dispose();this._toolbar=null;o.addWidget(t);this._isRevealed=true;throw t}))}else{this._spinner.dispose();this.removeClass("jp-MainAreaWidget-ContainStrict");n.disposed.connect((()=>this.dispose()));this._isRevealed=true;this._revealed=Promise.resolve(undefined)}}[J.symbol](){if(!this._content){return null}return J.getPrintFunction(this._content)}get content(){return this._content}get toolbar(){return this._toolbar}get contentHeader(){return this._contentHeader}get isRevealed(){return this._isRevealed}get revealed(){return this._revealed}onActivateRequest(e){if(this._isRevealed){this._focusContent()}else{this._spinner.node.focus()}}onAfterAttach(e){super.onAfterAttach(e);this.node.addEventListener("mousedown",this._evtMouseDown,Oe)}onBeforeDetach(e){this.node.removeEventListener("mousedown",this._evtMouseDown,Oe);super.onBeforeDetach(e)}onCloseRequest(e){this.dispose()}onUpdateRequest(e){if(this._content){f.MessageLoop.sendMessage(this._content,e)}}_disposeSpinner(){this.node.removeChild(this._spinner.node);this._spinner.dispose();this.removeClass("jp-MainAreaWidget-ContainStrict")}_updateTitle(){if(this._changeGuard||!this.content){return}this._changeGuard=true;const e=this.content;this.title.label=e.title.label;this.title.mnemonic=e.title.mnemonic;this.title.icon=e.title.icon;this.title.iconClass=e.title.iconClass;this.title.iconLabel=e.title.iconLabel;this.title.caption=e.title.caption;this.title.className=e.title.className;this.title.dataset=e.title.dataset;this._changeGuard=false}_updateContentTitle(){if(this._changeGuard||!this.content){return}this._changeGuard=true;const e=this.content;e.title.label=this.title.label;e.title.mnemonic=this.title.mnemonic;e.title.icon=this.title.icon;e.title.iconClass=this.title.iconClass;e.title.iconLabel=this.title.iconLabel;e.title.caption=this.title.caption;e.title.className=this.title.className;e.title.dataset=this.title.dataset;this._changeGuard=false}_focusContent(){if(!this.content){return}if(!this.content.node.contains(document.activeElement)){this.content.node.focus()}this.content.activate()}}var Re=undefined&&undefined.__rest||function(e,t){var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0)n[s]=e[s];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++){if(t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i]))n[s[i]]=e[s[i]]}return n};var Pe;(function(e){function t(e,t){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:Infinity)-((s=t.rank)!==null&&s!==void 0?s:Infinity)})).map((e=>n(e,t)))}e.createMenus=t;function n(e,t){var n,s;const i=t(e);i.id=e.id;if(!i.title.label){i.title.label=(n=e.label)!==null&&n!==void 0?n:te.Text.titleCase(i.id.trim())}if(e.icon){i.title.icon=r.LabIcon.resolve({icon:e.icon})}if(e.mnemonic!==undefined){i.title.mnemonic=e.mnemonic}(s=e.items)===null||s===void 0?void 0:s.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:Infinity)-((s=t.rank)!==null&&s!==void 0?s:Infinity)})).map((e=>{o(e,i,t)}));return i}function i(e,t,s){const{submenu:i}=e,o=Re(e,["submenu"]);t.addItem(Object.assign(Object.assign({},o),{submenu:i?n(i,s):null}))}e.addContextItem=i;function o(e,t,s){const{submenu:i}=e,o=Re(e,["submenu"]);t.addItem(Object.assign(Object.assign({},o),{submenu:i?n(i,s):null}))}function a(e,t,s){const i=[];t.forEach((t=>{const o=e.find((e=>e.id===t.id));if(o){l(t,o,s)}else{if(!t.disabled){i.push(n(t,s))}}}));e.push(...i);return i}e.updateMenus=a;function l(e,t,n){var i;if(e.disabled){t.dispose()}else{(i=e.items)===null||i===void 0?void 0:i.forEach((e=>{var i,r;const a=t===null||t===void 0?void 0:t.items.find(((t,n)=>{var s,i,o;return t.type===e.type&&t.command===((s=e.command)!==null&&s!==void 0?s:"")&&((i=t.submenu)===null||i===void 0?void 0:i.id)===((o=e.submenu)===null||o===void 0?void 0:o.id)}));if(a&&e.type!=="separator"){if(e.disabled){t.removeItem(a)}else{switch((i=e.type)!==null&&i!==void 0?i:"command"){case"command":if(e.command){if(!s.JSONExt.deepEqual(a.args,(r=e.args)!==null&&r!==void 0?r:{})){o(e,t,n)}}break;case"submenu":if(e.submenu){l(e.submenu,a.submenu,n)}}}}else{o(e,t,n)}}))}}})(Pe||(Pe={}));var Se=undefined&&undefined.__rest||function(e,t){var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0)n[s]=e[s];if(e!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++){if(t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i]))n[s[i]]=e[s[i]]}return n};class Ie{constructor(){this._isDisposed=false;this._queue=[];this._changed=new a.Signal(this)}get changed(){return this._changed}get count(){return this._queue.length}get isDisposed(){return this._isDisposed}get notifications(){return this._queue.slice()}dismiss(e){if(typeof e==="undefined"){const e=this._queue.slice();this._queue.length=0;for(const t of e){this._changed.emit({type:"removed",notification:t})}}else{const t=this._queue.findIndex((t=>t.id===e));if(t>-1){const e=this._queue.splice(t,1)[0];this._changed.emit({type:"removed",notification:e})}}}dispose(){if(this._isDisposed){return}this._isDisposed=true;a.Signal.clearData(this)}has(e){return this._queue.findIndex((t=>t.id===e))>-1}notify(e,t,n){const i=Date.now();const{progress:o}=n,r=Se(n,["progress"]);const a=Object.freeze({id:s.UUID.uuid4(),createdAt:i,modifiedAt:i,message:e,type:t,options:Object.assign({autoClose:0,progress:typeof o==="number"?Math.min(Math.max(0,o),1):o},r)});this._queue.unshift(a);this._changed.emit({type:"added",notification:a});return a.id}update(e){const{id:t,message:n,actions:s,autoClose:i,data:o,progress:r,type:a}=e;const l=typeof r==="number"?Math.min(Math.max(0,r),1):r;const d=this._queue.findIndex((e=>e.id===t));if(d>-1){const e=this._queue[d];const t=Object.freeze(Object.assign(Object.assign({},e),{message:n!==null&&n!==void 0?n:e.message,type:a!==null&&a!==void 0?a:e.type,options:{actions:s!==null&&s!==void 0?s:e.options.actions,autoClose:i!==null&&i!==void 0?i:e.options.autoClose,data:o!==null&&o!==void 0?o:e.options.data,progress:l!==null&&l!==void 0?l:e.options.progress},modifiedAt:Date.now()}));this._queue.splice(d,1);this._queue.unshift(t);this._changed.emit({type:"updated",notification:t});return true}return false}}var Ae;(function(e){e.manager=new Ie;function t(t){e.manager.dismiss(t)}e.dismiss=t;function n(t,n="default",s={}){return e.manager.notify(t,n,s)}e.emit=n;function s(t,n={}){return e.manager.notify(t,"error",n)}e.error=s;function i(t,n={}){return e.manager.notify(t,"info",n)}e.info=i;function o(t,n){var s;const{pending:i,error:o,success:r}=n;const a=e.manager.notify(i.message,"in-progress",(s=i.options)!==null&&s!==void 0?s:{});t.then((t=>{var n,s,i;e.manager.update(Object.assign(Object.assign({id:a,message:r.message(t,(n=r.options)===null||n===void 0?void 0:n.data),type:"success"},r.options),{data:(i=(s=r.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:t}))})).catch((t=>{var n,s,i;e.manager.update(Object.assign(Object.assign({id:a,message:o.message(t,(n=o.options)===null||n===void 0?void 0:n.data),type:"error"},o.options),{data:(i=(s=o.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:t}))}));return a}e.promise=o;function r(t,n={}){return e.manager.notify(t,"success",n)}e.success=r;function a(t){return e.manager.update(t)}e.update=a;function l(t,n={}){return e.manager.notify(t,"warning",n)}e.warning=l})(Ae||(Ae={}));var De=n(24330);var Be=n.n(De);class Ne{static reg(e){return new RegExp("^"+e+"$","i")}}Ne.N={integer:`[+-]?[0-9]+`,integer_pos:`[+]?[0-9]+`,integer_zero_ff:`([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])`,number:`[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,number_pos:`[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,number_zero_hundred:`[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)`,number_zero_one:`[+]?(1([.][0]+)?|0?([.][0-9]+)?)`};Ne.B={angle:`(${Ne.N.number}(deg|rad|grad|turn)|0)`,frequency:`${Ne.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${Ne.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${Ne.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${Ne.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${Ne.N.number}%`,percentage_pos:`${Ne.N.number_pos}%`,percentage_zero_hundred:`${Ne.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${Ne.N.number}(s|ms)`,url:`url\\(.*?\\)`,z_index:`[+-]?[0-9]{1,7}`};Ne.A={absolute_size:`xx-small|x-small|small|medium|large|x-large|xx-large`,attachment:`scroll|fixed|local`,bg_origin:`border-box|padding-box|content-box`,border_style:`none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset`,box:`border-box|padding-box|content-box`,display_inside:`auto|block|table|flex|grid`,display_outside:`block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption`,ending_shape:`circle|ellipse`,generic_family:`serif|sans-serif|cursive|fantasy|monospace`,generic_voice:`male|female|child`,relative_size:`smaller|larger`,repeat_style:`repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)`,side_or_corner:`(left|right)?\\s*(top|bottom)?`,single_animation_direction:`normal|reverse|alternate|alternate-reverse`,single_animation_fill_mode:`none|forwards|backwards|both`,single_animation_play_state:`running|paused`};Ne._COLOR={hex:`\\#(0x)?[0-9a-f]+`,name:`aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen`,rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${Ne.N.integer_zero_ff}|${Ne.N.number_zero_one}|${Ne.B.percentage_zero_hundred})\s*\)`};Ne._C={alpha:`${Ne.N.integer_zero_ff}|${Ne.N.number_zero_one}|${Ne.B.percentage_zero_hundred}`,alphavalue:Ne.N.number_zero_one,bg_position:`((${Ne.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${Ne.B.length_pos}|${Ne.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${Ne.B.length}`,bottom:`${Ne.B.length}|auto`,color:`${Ne._COLOR.hex}|${Ne._COLOR.rgb}|${Ne._COLOR.rgba}|${Ne._COLOR.name}`,color_stop_length:`(${Ne.B.len_or_perc}\\s*){1,2}`,linear_color_hint:`${Ne.B.len_or_perc}`,family_name:`${Ne.B.string}|(${Ne.B.ident}\\s*)+`,image_decl:Ne.B.url,left:`${Ne.B.length}|auto`,loose_quotable_words:`(${Ne.B.ident})+`,margin_width:`${Ne.B.len_or_perc}|auto`,padding_width:`${Ne.B.length_pos}|${Ne.B.percentage_pos}`,page_url:Ne.B.url,position:`((${Ne.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${Ne.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${Ne.B.length}|(${Ne.B.len_or_perc})\\s+(${Ne.B.len_or_perc})`,top:`${Ne.B.length}|auto`};Ne._C1={image_list:`image\\(\\s*(${Ne.B.url})*\\s*(${Ne.B.url}|${Ne._C.color})\\s*\\)`,linear_color_stop:`(${Ne._C.color})(\\s*${Ne._C.color_stop_length})?`,shadow:`((${Ne._C.color})\\s+((${Ne.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${Ne.B.length})\\s*){2,4}\\s*(${Ne._C.color})?)`};Ne._C2={color_stop_list:`((${Ne._C1.linear_color_stop})(\\s*(${Ne._C.linear_color_hint}))?\\s*,\\s*)+(${Ne._C1.linear_color_stop})`,shape:`rect\\(\\s*(${Ne._C.top})\\s*,\\s*(${Ne._C.right})\\s*,\\s*(${Ne._C.bottom})\\s*,\\s*(${Ne._C.left})\\s*\\)`};Ne._C3={linear_gradient:`linear-gradient\\((((${Ne.B.angle})|to\\s+(${Ne.A.side_or_corner}))\\s*,\\s*)?\\s*(${Ne._C2.color_stop_list})\\s*\\)`,radial_gradient:`radial-gradient\\(((((${Ne.A.ending_shape})|(${Ne._C.size}))\\s*)*\\s*(at\\s+${Ne._C.position})?\\s*,\\s*)?\\s*(${Ne._C2.color_stop_list})\\s*\\)`};Ne._C4={image:`${Ne.B.url}|${Ne._C3.linear_gradient}|${Ne._C3.radial_gradient}|${Ne._C1.image_list}`,bg_image:`(${Ne.B.url}|${Ne._C3.linear_gradient}|${Ne._C3.radial_gradient}|${Ne._C1.image_list})|none`};Ne.C=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ne._C),Ne._C1),Ne._C2),Ne._C3),Ne._C4);Ne.AP={border_collapse:`collapse|separate`,box:`normal|none|contents`,box_sizing:`content-box|padding-box|border-box`,caption_side:`top|bottom`,clear:`none|left|right|both`,direction:`ltr|rtl`,empty_cells:`show|hide`,float:`left|right|none`,font_stretch:`normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded`,font_style:`normal|italic|oblique`,font_variant:`normal|small-caps`,font_weight:`normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900`,list_style_position:`inside|outside`,list_style_type:`disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none`,overflow:`visible|hidden|scroll|auto`,overflow_wrap:`normal|break-word`,overflow_x:`visible|hidden|scroll|auto|no-display|no-content`,page_break_after:`auto|always|avoid|left|right`,page_break_before:`auto|always|avoid|left|right`,page_break_inside:`avoid|auto`,position:`static|relative|absolute`,resize:`none|both|horizontal|vertical`,speak:`normal|none|spell-out`,speak_header:`once|always`,speak_numeral:`digits|continuous`,speak_punctuation:`code|none`,table_layout:`auto|fixed`,text_align:`left|right|center|justify`,text_decoration:`none|((underline|overline|line-through|blink)\\s*)+`,text_transform:`capitalize|uppercase|lowercase|none`,text_wrap:`normal|unrestricted|none|suppress`,unicode_bidi:`normal|embed|bidi-override`,visibility:`visible|hidden|collapse`,white_space:`normal|pre|nowrap|pre-wrap|pre-line`,word_break:`normal|keep-all|break-all`};Ne._CP={background_attachment:`${Ne.A.attachment}(,\\s*${Ne.A.attachment})*`,background_color:Ne.C.color,background_origin:`${Ne.A.box}(,\\s*${Ne.A.box})*`,background_repeat:`${Ne.A.repeat_style}(,\\s*${Ne.A.repeat_style})*`,border:`((${Ne.C.border_width}|${Ne.A.border_style}|${Ne.C.color})\\s*){1,3}`,border_radius:`((${Ne.B.len_or_perc})\\s*){1,4}(\\/\\s*((${Ne.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${Ne.B.length}\\s*(${Ne.B.length})?`,border_top_color:Ne.C.color,border_top_style:Ne.A.border_style,border_width:`((${Ne.C.border_width})\\s*){1,4}`,color:Ne.C.color,cursor:`(${Ne.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${Ne.A.display_inside}|${Ne.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:Ne.A.display_outside,elevation:`${Ne.B.angle}|below|level|above|higher|lower`,font_family:`(${Ne.C.family_name}|${Ne.A.generic_family})(,\\s*(${Ne.C.family_name}|${Ne.A.generic_family}))*`,height:`${Ne.B.length}|${Ne.B.percentage}|auto`,letter_spacing:`normal|${Ne.B.length}`,list_style_image:`${Ne.C.image}|none`,margin_right:Ne.C.margin_width,max_height:`${Ne.B.length_pos}|${Ne.B.percentage_pos}|none|auto`,min_height:`${Ne.B.length_pos}|${Ne.B.percentage_pos}|auto`,opacity:Ne.C.alphavalue,outline_color:`${Ne.C.color}|invert`,outline_width:Ne.C.border_width,padding:`((${Ne.C.padding_width})\\s*){1,4}`,padding_top:Ne.C.padding_width,pitch_range:Ne.N.number,right:`${Ne.B.length}|${Ne.B.percentage}|auto`,stress:Ne.N.number,text_indent:`${Ne.B.length}|${Ne.B.percentage}`,text_shadow:`none|${Ne.C.shadow}(,\\s*(${Ne.C.shadow}))*`,volume:`${Ne.N.number_pos}|${Ne.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:Ne.AP.overflow_wrap,zoom:`normal|${Ne.N.number_pos}|${Ne.B.percentage_pos}`,backface_visibility:Ne.AP.visibility,background_clip:`${Ne.A.box}(,\\s*(${Ne.A.box}))*`,background_position:`${Ne.C.bg_position}(,\\s*(${Ne.C.bg_position}))*`,border_bottom_color:Ne.C.color,border_bottom_style:Ne.A.border_style,border_color:`((${Ne.C.color})\\s*){1,4}`,border_left_color:Ne.C.color,border_right_color:Ne.C.color,border_style:`((${Ne.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${Ne.B.length}|${Ne.B.percentage})(\\s*(${Ne.B.length}|${Ne.B.percentage}))?`,border_top_width:Ne.C.border_width,box_shadow:`none|${Ne.C.shadow}(,\\s*(${Ne.C.shadow}))*`,clip:`${Ne.C.shape}|auto`,display_inside:Ne.A.display_inside,font_size:`${Ne.A.absolute_size}|${Ne.A.relative_size}|${Ne.B.length_pos}|${Ne.B.percentage_pos}`,line_height:`normal|${Ne.N.number_pos}|${Ne.B.length_pos}|${Ne.B.percentage_pos}`,margin_left:Ne.C.margin_width,max_width:`${Ne.B.length_pos}|${Ne.B.percentage_pos}|none|auto`,outline_style:Ne.A.border_style,padding_bottom:Ne.C.padding_width,padding_right:Ne.C.padding_width,perspective:`none|${Ne.B.length}`,richness:Ne.N.number,text_overflow:`((clip|ellipsis|${Ne.B.string})\\s*){1,2}`,top:`${Ne.B.length}|${Ne.B.percentage}|auto`,width:`${Ne.B.length_pos}|${Ne.B.percentage_pos}|auto`,z_index:`auto|${Ne.B.z_index}`,background:`(((${Ne.C.bg_position}\\s*(\\/\\s*${Ne.C.bg_size})?)|(${Ne.A.repeat_style})|(${Ne.A.attachment})|(${Ne.A.bg_origin})|(${Ne.C.bg_image})|(${Ne.C.color}))\\s*)+`,background_size:`${Ne.C.bg_size}(,\\s*${Ne.C.bg_size})*`,border_bottom_left_radius:`(${Ne.B.length}|${Ne.B.percentage})(\\s*(${Ne.B.length}|${Ne.B.percentage}))?`,border_bottom_width:Ne.C.border_width,border_left_style:Ne.A.border_style,border_right_style:Ne.A.border_style,border_top:`((${Ne.C.border_width}|${Ne.A.border_style}|${Ne.C.color})\\s*){1,3}`,bottom:`${Ne.B.len_or_perc}|auto`,list_style:`((${Ne.AP.list_style_type}|${Ne.AP.list_style_position}|${Ne.C.image}|none})\\s*){1,3}`,margin_top:Ne.C.margin_width,outline:`((${Ne.C.color}|invert|${Ne.A.border_style}|${Ne.C.border_width})\\s*){1,3}`,overflow_y:Ne.AP.overflow_x,pitch:`${Ne.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${Ne.B.len_or_perc}`,word_spacing:`normal|${Ne.B.length}`,background_image:`${Ne.C.bg_image}(,\\s*${Ne.C.bg_image})*`,border_bottom_right_radius:`(${Ne.B.length}|${Ne.B.percentage})(\\s*(${Ne.B.length}|${Ne.B.percentage}))?`,border_left_width:Ne.C.border_width,border_right_width:Ne.C.border_width,left:`${Ne.B.len_or_perc}|auto`,margin_bottom:Ne.C.margin_width,pause_after:`${Ne.B.time}|${Ne.B.percentage}`,speech_rate:`${Ne.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${Ne.B.time}(,\\s*${Ne.B.time})*`,border_bottom:`((${Ne.C.border_width}|${Ne.A.border_style}|${Ne.C.color})\\s*){1,3}`,border_right:`((${Ne.C.border_width}|${Ne.A.border_style}|${Ne.C.color})\\s*){1,3}`,margin:`((${Ne.C.margin_width})\\s*){1,4}`,padding_left:Ne.C.padding_width,border_left:`((${Ne.C.border_width}|${Ne.A.border_style}|${Ne.C.color})\\s*){1,3}`,quotes:`(${Ne.B.string}\\s*${Ne.B.string})+|none`,border_top_right_radius:`(${Ne.B.length}|${Ne.B.percentage})(\\s*(${Ne.B.length}|${Ne.B.percentage}))?`,min_width:`${Ne.B.length_pos}|${Ne.B.percentage_pos}|auto`};Ne._CP1={font:`(((((${Ne.AP.font_style}|${Ne.AP.font_variant}|${Ne.AP.font_weight})\\s*){1,3})?\\s*(${Ne._CP.font_size})\\s*(\\/\\s*(${Ne._CP.line_height}))?\\s+(${Ne._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`};Ne.CP=Object.assign(Object.assign({},Ne._CP),Ne._CP1);Ne.BORDER_COLLAPSE=Ne.reg(Ne.AP.border_collapse);Ne.BOX=Ne.reg(Ne.AP.box);Ne.BOX_SIZING=Ne.reg(Ne.AP.box_sizing);Ne.CAPTION_SIDE=Ne.reg(Ne.AP.caption_side);Ne.CLEAR=Ne.reg(Ne.AP.clear);Ne.DIRECTION=Ne.reg(Ne.AP.direction);Ne.EMPTY_CELLS=Ne.reg(Ne.AP.empty_cells);Ne.FLOAT=Ne.reg(Ne.AP.float);Ne.FONT_STRETCH=Ne.reg(Ne.AP.font_stretch);Ne.FONT_STYLE=Ne.reg(Ne.AP.font_style);Ne.FONT_VARIANT=Ne.reg(Ne.AP.font_variant);Ne.FONT_WEIGHT=Ne.reg(Ne.AP.font_weight);Ne.LIST_STYLE_POSITION=Ne.reg(Ne.AP.list_style_position);Ne.LIST_STYLE_TYPE=Ne.reg(Ne.AP.list_style_type);Ne.OVERFLOW=Ne.reg(Ne.AP.overflow);Ne.OVERFLOW_WRAP=Ne.reg(Ne.AP.overflow_wrap);Ne.OVERFLOW_X=Ne.reg(Ne.AP.overflow_x);Ne.PAGE_BREAK_AFTER=Ne.reg(Ne.AP.page_break_after);Ne.PAGE_BREAK_BEFORE=Ne.reg(Ne.AP.page_break_before);Ne.PAGE_BREAK_INSIDE=Ne.reg(Ne.AP.page_break_inside);Ne.POSITION=Ne.reg(Ne.AP.position);Ne.RESIZE=Ne.reg(Ne.AP.resize);Ne.SPEAK=Ne.reg(Ne.AP.speak);Ne.SPEAK_HEADER=Ne.reg(Ne.AP.speak_header);Ne.SPEAK_NUMERAL=Ne.reg(Ne.AP.speak_numeral);Ne.SPEAK_PUNCTUATION=Ne.reg(Ne.AP.speak_punctuation);Ne.TABLE_LAYOUT=Ne.reg(Ne.AP.table_layout);Ne.TEXT_ALIGN=Ne.reg(Ne.AP.text_align);Ne.TEXT_DECORATION=Ne.reg(Ne.AP.text_decoration);Ne.TEXT_TRANSFORM=Ne.reg(Ne.AP.text_transform);Ne.TEXT_WRAP=Ne.reg(Ne.AP.text_wrap);Ne.UNICODE_BIDI=Ne.reg(Ne.AP.unicode_bidi);Ne.VISIBILITY=Ne.reg(Ne.AP.visibility);Ne.WHITE_SPACE=Ne.reg(Ne.AP.white_space);Ne.WORD_BREAK=Ne.reg(Ne.AP.word_break);Ne.BACKGROUND_ATTACHMENT=Ne.reg(Ne.CP.background_attachment);Ne.BACKGROUND_COLOR=Ne.reg(Ne.CP.background_color);Ne.BACKGROUND_ORIGIN=Ne.reg(Ne.CP.background_origin);Ne.BACKGROUND_REPEAT=Ne.reg(Ne.CP.background_repeat);Ne.BORDER=Ne.reg(Ne.CP.border);Ne.BORDER_RADIUS=Ne.reg(Ne.CP.border_radius);Ne.BORDER_SPACING=Ne.reg(Ne.CP.border_spacing);Ne.BORDER_TOP_COLOR=Ne.reg(Ne.CP.border_top_color);Ne.BORDER_TOP_STYLE=Ne.reg(Ne.CP.border_top_style);Ne.BORDER_WIDTH=Ne.reg(Ne.CP.border_width);Ne.COLOR=Ne.reg(Ne.CP.color);Ne.CURSOR=Ne.reg(Ne.CP.cursor);Ne.DISPLAY=Ne.reg(Ne.CP.display);Ne.DISPLAY_OUTSIDE=Ne.reg(Ne.CP.display_outside);Ne.ELEVATION=Ne.reg(Ne.CP.elevation);Ne.FONT_FAMILY=Ne.reg(Ne.CP.font_family);Ne.HEIGHT=Ne.reg(Ne.CP.height);Ne.LETTER_SPACING=Ne.reg(Ne.CP.letter_spacing);Ne.LIST_STYLE_IMAGE=Ne.reg(Ne.CP.list_style_image);Ne.MARGIN_RIGHT=Ne.reg(Ne.CP.margin_right);Ne.MAX_HEIGHT=Ne.reg(Ne.CP.max_height);Ne.MIN_HEIGHT=Ne.reg(Ne.CP.min_height);Ne.OPACITY=Ne.reg(Ne.CP.opacity);Ne.OUTLINE_COLOR=Ne.reg(Ne.CP.outline_color);Ne.OUTLINE_WIDTH=Ne.reg(Ne.CP.outline_width);Ne.PADDING=Ne.reg(Ne.CP.padding);Ne.PADDING_TOP=Ne.reg(Ne.CP.padding_top);Ne.PITCH_RANGE=Ne.reg(Ne.CP.pitch_range);Ne.RIGHT=Ne.reg(Ne.CP.right);Ne.STRESS=Ne.reg(Ne.CP.stress);Ne.TEXT_INDENT=Ne.reg(Ne.CP.text_indent);Ne.TEXT_SHADOW=Ne.reg(Ne.CP.text_shadow);Ne.VOLUME=Ne.reg(Ne.CP.volume);Ne.WORD_WRAP=Ne.reg(Ne.CP.word_wrap);Ne.ZOOM=Ne.reg(Ne.CP.zoom);Ne.BACKFACE_VISIBILITY=Ne.reg(Ne.CP.backface_visibility);Ne.BACKGROUND_CLIP=Ne.reg(Ne.CP.background_clip);Ne.BACKGROUND_POSITION=Ne.reg(Ne.CP.background_position);Ne.BORDER_BOTTOM_COLOR=Ne.reg(Ne.CP.border_bottom_color);Ne.BORDER_BOTTOM_STYLE=Ne.reg(Ne.CP.border_bottom_style);Ne.BORDER_COLOR=Ne.reg(Ne.CP.border_color);Ne.BORDER_LEFT_COLOR=Ne.reg(Ne.CP.border_left_color);Ne.BORDER_RIGHT_COLOR=Ne.reg(Ne.CP.border_right_color);Ne.BORDER_STYLE=Ne.reg(Ne.CP.border_style);Ne.BORDER_TOP_LEFT_RADIUS=Ne.reg(Ne.CP.border_top_left_radius);Ne.BORDER_TOP_WIDTH=Ne.reg(Ne.CP.border_top_width);Ne.BOX_SHADOW=Ne.reg(Ne.CP.box_shadow);Ne.CLIP=Ne.reg(Ne.CP.clip);Ne.DISPLAY_INSIDE=Ne.reg(Ne.CP.display_inside);Ne.FONT_SIZE=Ne.reg(Ne.CP.font_size);Ne.LINE_HEIGHT=Ne.reg(Ne.CP.line_height);Ne.MARGIN_LEFT=Ne.reg(Ne.CP.margin_left);Ne.MAX_WIDTH=Ne.reg(Ne.CP.max_width);Ne.OUTLINE_STYLE=Ne.reg(Ne.CP.outline_style);Ne.PADDING_BOTTOM=Ne.reg(Ne.CP.padding_bottom);Ne.PADDING_RIGHT=Ne.reg(Ne.CP.padding_right);Ne.PERSPECTIVE=Ne.reg(Ne.CP.perspective);Ne.RICHNESS=Ne.reg(Ne.CP.richness);Ne.TEXT_OVERFLOW=Ne.reg(Ne.CP.text_overflow);Ne.TOP=Ne.reg(Ne.CP.top);Ne.WIDTH=Ne.reg(Ne.CP.width);Ne.Z_INDEX=Ne.reg(Ne.CP.z_index);Ne.BACKGROUND=Ne.reg(Ne.CP.background);Ne.BACKGROUND_SIZE=Ne.reg(Ne.CP.background_size);Ne.BORDER_BOTTOM_LEFT_RADIUS=Ne.reg(Ne.CP.border_bottom_left_radius);Ne.BORDER_BOTTOM_WIDTH=Ne.reg(Ne.CP.border_bottom_width);Ne.BORDER_LEFT_STYLE=Ne.reg(Ne.CP.border_left_style);Ne.BORDER_RIGHT_STYLE=Ne.reg(Ne.CP.border_right_style);Ne.BORDER_TOP=Ne.reg(Ne.CP.border_top);Ne.BOTTOM=Ne.reg(Ne.CP.bottom);Ne.LIST_STYLE=Ne.reg(Ne.CP.list_style);Ne.MARGIN_TOP=Ne.reg(Ne.CP.margin_top);Ne.OUTLINE=Ne.reg(Ne.CP.outline);Ne.OVERFLOW_Y=Ne.reg(Ne.CP.overflow_y);Ne.PITCH=Ne.reg(Ne.CP.pitch);Ne.VERTICAL_ALIGN=Ne.reg(Ne.CP.vertical_align);Ne.WORD_SPACING=Ne.reg(Ne.CP.word_spacing);Ne.BACKGROUND_IMAGE=Ne.reg(Ne.CP.background_image);Ne.BORDER_BOTTOM_RIGHT_RADIUS=Ne.reg(Ne.CP.border_bottom_right_radius);Ne.BORDER_LEFT_WIDTH=Ne.reg(Ne.CP.border_left_width);Ne.BORDER_RIGHT_WIDTH=Ne.reg(Ne.CP.border_right_width);Ne.LEFT=Ne.reg(Ne.CP.left);Ne.MARGIN_BOTTOM=Ne.reg(Ne.CP.margin_bottom);Ne.PAUSE_AFTER=Ne.reg(Ne.CP.pause_after);Ne.SPEECH_RATE=Ne.reg(Ne.CP.speech_rate);Ne.TRANSITION_DURATION=Ne.reg(Ne.CP.transition_duration);Ne.BORDER_BOTTOM=Ne.reg(Ne.CP.border_bottom);Ne.BORDER_RIGHT=Ne.reg(Ne.CP.border_right);Ne.MARGIN=Ne.reg(Ne.CP.margin);Ne.PADDING_LEFT=Ne.reg(Ne.CP.padding_left);Ne.BORDER_LEFT=Ne.reg(Ne.CP.border_left);Ne.FONT=Ne.reg(Ne.CP.font);Ne.QUOTES=Ne.reg(Ne.CP.quotes);Ne.BORDER_TOP_RIGHT_RADIUS=Ne.reg(Ne.CP.border_top_right_radius);Ne.MIN_WIDTH=Ne.reg(Ne.CP.min_width);class xe{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[Ne.BACKFACE_VISIBILITY],background:[Ne.BACKGROUND],"background-attachment":[Ne.BACKGROUND_ATTACHMENT],"background-clip":[Ne.BACKGROUND_CLIP],"background-color":[Ne.BACKGROUND_COLOR],"background-image":[Ne.BACKGROUND_IMAGE],"background-origin":[Ne.BACKGROUND_ORIGIN],"background-position":[Ne.BACKGROUND_POSITION],"background-repeat":[Ne.BACKGROUND_REPEAT],"background-size":[Ne.BACKGROUND_SIZE],border:[Ne.BORDER],"border-bottom":[Ne.BORDER_BOTTOM],"border-bottom-color":[Ne.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[Ne.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[Ne.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[Ne.BORDER_BOTTOM_STYLE],"border-bottom-width":[Ne.BORDER_BOTTOM_WIDTH],"border-collapse":[Ne.BORDER_COLLAPSE],"border-color":[Ne.BORDER_COLOR],"border-left":[Ne.BORDER_LEFT],"border-left-color":[Ne.BORDER_LEFT_COLOR],"border-left-style":[Ne.BORDER_LEFT_STYLE],"border-left-width":[Ne.BORDER_LEFT_WIDTH],"border-radius":[Ne.BORDER_RADIUS],"border-right":[Ne.BORDER_RIGHT],"border-right-color":[Ne.BORDER_RIGHT_COLOR],"border-right-style":[Ne.BORDER_RIGHT_STYLE],"border-right-width":[Ne.BORDER_RIGHT_WIDTH],"border-spacing":[Ne.BORDER_SPACING],"border-style":[Ne.BORDER_STYLE],"border-top":[Ne.BORDER_TOP],"border-top-color":[Ne.BORDER_TOP_COLOR],"border-top-left-radius":[Ne.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[Ne.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[Ne.BORDER_TOP_STYLE],"border-top-width":[Ne.BORDER_TOP_WIDTH],"border-width":[Ne.BORDER_WIDTH],bottom:[Ne.BOTTOM],box:[Ne.BOX],"box-shadow":[Ne.BOX_SHADOW],"box-sizing":[Ne.BOX_SIZING],"caption-side":[Ne.CAPTION_SIDE],clear:[Ne.CLEAR],clip:[Ne.CLIP],color:[Ne.COLOR],cursor:[Ne.CURSOR],direction:[Ne.DIRECTION],display:[Ne.DISPLAY],"display-inside":[Ne.DISPLAY_INSIDE],"display-outside":[Ne.DISPLAY_OUTSIDE],elevation:[Ne.ELEVATION],"empty-cells":[Ne.EMPTY_CELLS],float:[Ne.FLOAT],font:[Ne.FONT],"font-family":[Ne.FONT_FAMILY],"font-size":[Ne.FONT_SIZE],"font-stretch":[Ne.FONT_STRETCH],"font-style":[Ne.FONT_STYLE],"font-variant":[Ne.FONT_VARIANT],"font-weight":[Ne.FONT_WEIGHT],height:[Ne.HEIGHT],left:[Ne.LEFT],"letter-spacing":[Ne.LETTER_SPACING],"line-height":[Ne.LINE_HEIGHT],"list-style":[Ne.LIST_STYLE],"list-style-image":[Ne.LIST_STYLE_IMAGE],"list-style-position":[Ne.LIST_STYLE_POSITION],"list-style-type":[Ne.LIST_STYLE_TYPE],margin:[Ne.MARGIN],"margin-bottom":[Ne.MARGIN_BOTTOM],"margin-left":[Ne.MARGIN_LEFT],"margin-right":[Ne.MARGIN_RIGHT],"margin-top":[Ne.MARGIN_TOP],"max-height":[Ne.MAX_HEIGHT],"max-width":[Ne.MAX_WIDTH],"min-height":[Ne.MIN_HEIGHT],"min-width":[Ne.MIN_WIDTH],opacity:[Ne.OPACITY],outline:[Ne.OUTLINE],"outline-color":[Ne.OUTLINE_COLOR],"outline-style":[Ne.OUTLINE_STYLE],"outline-width":[Ne.OUTLINE_WIDTH],overflow:[Ne.OVERFLOW],"overflow-wrap":[Ne.OVERFLOW_WRAP],"overflow-x":[Ne.OVERFLOW_X],"overflow-y":[Ne.OVERFLOW_Y],padding:[Ne.PADDING],"padding-bottom":[Ne.PADDING_BOTTOM],"padding-left":[Ne.PADDING_LEFT],"padding-right":[Ne.PADDING_RIGHT],"padding-top":[Ne.PADDING_TOP],"page-break-after":[Ne.PAGE_BREAK_AFTER],"page-break-before":[Ne.PAGE_BREAK_BEFORE],"page-break-inside":[Ne.PAGE_BREAK_INSIDE],"pause-after":[Ne.PAUSE_AFTER],perspective:[Ne.PERSPECTIVE],pitch:[Ne.PITCH],"pitch-range":[Ne.PITCH_RANGE],position:[Ne.POSITION],quotes:[Ne.QUOTES],resize:[Ne.RESIZE],richness:[Ne.RICHNESS],right:[Ne.RIGHT],speak:[Ne.SPEAK],"speak-header":[Ne.SPEAK_HEADER],"speak-numeral":[Ne.SPEAK_NUMERAL],"speak-punctuation":[Ne.SPEAK_PUNCTUATION],"speech-rate":[Ne.SPEECH_RATE],stress:[Ne.STRESS],"table-layout":[Ne.TABLE_LAYOUT],"text-align":[Ne.TEXT_ALIGN],"text-decoration":[Ne.TEXT_DECORATION],"text-indent":[Ne.TEXT_INDENT],"text-overflow":[Ne.TEXT_OVERFLOW],"text-shadow":[Ne.TEXT_SHADOW],"text-transform":[Ne.TEXT_TRANSFORM],"text-wrap":[Ne.TEXT_WRAP],top:[Ne.TOP],"unicode-bidi":[Ne.UNICODE_BIDI],"vertical-align":[Ne.VERTICAL_ALIGN],visibility:[Ne.VISIBILITY],volume:[Ne.VOLUME],"white-space":[Ne.WHITE_SPACE],width:[Ne.WIDTH],"word-break":[Ne.WORD_BREAK],"word-spacing":[Ne.WORD_SPACING],"word-wrap":[Ne.WORD_WRAP],"z-index":[Ne.Z_INDEX],zoom:[Ne.ZOOM]}},transformTags:{a:Be().simpleTransform("a",{rel:"nofollow"}),input:Be().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:Be().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return Be()(e,Object.assign(Object.assign({},this._options),t||{}))}}const $e=new xe;function Le(e,t){let n=Infinity;let s=null;const i=/\b\w/g;let o=true;while(o){let o=i.exec(e);if(!o){break}let r=m.StringExt.matchSumOfDeltas(e,t,o.index);if(!r){break}if(r&&r.score<=n){n=r.score;s=r.indices}}if(!s||n===Infinity){return null}return{score:n,indices:s}}const je=(e,t,n)=>s=>{if(t){const t=e.toLowerCase();let n=Le(s,t);if(!n){return false}return true}if(!n){s=s.toLocaleLowerCase();e=e.toLocaleLowerCase()}const i=s.indexOf(e);if(i===-1){return false}return true};const Me=e=>{var t;const[n,s]=(0,b.useState)((t=e.initialQuery)!==null&&t!==void 0?t:"");if(e.forceRefresh){(0,b.useEffect)((()=>{e.updateFilter((e=>true))}),[])}(0,b.useEffect)((()=>{if(e.initialQuery!==undefined){e.updateFilter(je(e.initialQuery,e.useFuzzyFilter,e.caseSensitive),e.initialQuery)}}),[]);const i=t=>{const n=t.target;s(n.value);e.updateFilter(je(n.value,e.useFuzzyFilter,e.caseSensitive),n.value)};return v().createElement(r.InputGroup,{type:"text",rightIcon:"ui-components:search",placeholder:e.placeholder,onChange:i,className:"jp-FilterBox",value:n})};const We=e=>E.create(v().createElement(Me,{updateFilter:e.updateFilter,useFuzzyFilter:e.useFuzzyFilter,placeholder:e.placeholder,forceRefresh:e.forceRefresh,caseSensitive:e.caseSensitive}));const Fe=new s.Token("@jupyterlab/apputils:ISplashScreen");var Ke=n(15989);const ze=75;const He=20;const Ge=Object.freeze({dark:"Hackerrank Dark",light:"JupyterLab Light","light-hrds":"HRDS Light","dark-hrds":"HRDS Dark"});class Ue{constructor(e){this._current=null;this._links=[];this._overrides={};this._overrideProps={};this._outstanding=null;this._pending=0;this._requests={};this._themes={};this._themeChanged=new a.Signal(this);const{host:t,key:n,splash:s,url:i}=e;this.translator=e.translator||Y.nullTranslator;this._trans=this.translator.load("jupyterlab");const o=e.settings;this._base=i;this._host=t;this._splash=s||null;const r=new URL(window.location.href).searchParams.get("theme");this._initialTheme=r?Ge[r]:null;void o.load(n).then((e=>{this._settings=e;this._initOverrideProps();this._settings.changed.connect(this._loadSettings,this);this._loadSettings()}))}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return(t=this._overrides[e])!==null&&t!==void 0?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base;const n=te.URLExt.isLocal(e)?te.URLExt.join(t,e):e;const s=this._links;return new Promise(((e,t)=>{const i=document.createElement("link");i.setAttribute("rel","stylesheet");i.setAttribute("type","text/css");i.setAttribute("href",n);i.addEventListener("load",(()=>{e(undefined)}));i.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${n}`)}));document.body.appendChild(i);s.push(i);this.loadCSSOverrides()}))}loadCSSOverrides(){var e;const t=(e=this._settings.user["overrides"])!==null&&e!==void 0?e:{};Object.keys(Object.assign(Object.assign({},this._overrides),t)).forEach((e=>{const n=t[e];if(n&&this.validateCSS(e,n)){document.documentElement.style.setProperty(`--jp-${e}`,n)}else{delete t[e];document.documentElement.style.removeProperty(`--jp-${e}`)}}));this._overrides=t}validateCSS(e,t){const n=this._overrideProps[e];if(!n){console.warn("CSS validation failed: could not find property corresponding to key.\n"+`key: '${e}', val: '${t}'`);return false}if(CSS.supports(n,t)){return true}else{console.warn("CSS validation failed: invalid value.\n"+`key: '${e}', val: '${t}', prop: '${n}'`);return false}}register(e){const{name:t}=e;const n=this._themes;if(n[t]){throw new Error(`Theme already registered for ${t}`)}n[t]=e;return new Ke.DisposableDelegate((()=>{delete n[t]}))}setCSSOverride(e,t){return this._settings.set("overrides",Object.assign(Object.assign({},this._overrides),{[e]:t}))}setTheme(e){return this._settings.set("theme",e)}isLight(e){return this._themes[e].isLight}incrFontSize(e){return this._incrFontSize(e,true)}decrFontSize(e){return this._incrFontSize(e,false)}themeScrollbars(e){return!!this._settings.composite["theme-scrollbars"]&&!!this._themes[e].themeScrollbars}isToggledThemeScrollbars(){return!!this._settings.composite["theme-scrollbars"]}toggleThemeScrollbars(){return this._settings.set("theme-scrollbars",!this._settings.composite["theme-scrollbars"])}getDisplayName(e){var t,n;return(n=(t=this._themes[e])===null||t===void 0?void 0:t.displayName)!==null&&n!==void 0?n:e}_incrFontSize(e,t=true){var n;const s=((n=this.getCSS(e))!==null&&n!==void 0?n:"13px").split(/([a-zA-Z]+)/);const i=(t?1:-1)*(s[1]==="em"?.1:1);return this.setCSSOverride(e,`${Number(s[0])+i}${s[1]}`)}_initOverrideProps(){const e=this._settings.schema.definitions;const t=e.cssOverrides.properties;Object.keys(t).forEach((e=>{this._overrideProps[e]=t[e].description}))}_loadSettings(){var e;const t=this._outstanding;const n=this._pending;const s=this._requests;if(n){window.clearTimeout(n);this._pending=0}const i=this._settings;const o=this._themes;const r=(e=this._initialTheme)!==null&&e!==void 0?e:i.composite["theme"];if(t){t.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()}));this._outstanding=null;return}s[r]=s[r]?s[r]+1:1;if(o[r]){this._outstanding=this._loadTheme(r);this._initialTheme=null;delete s[r];return}if(s[r]>He){const e=i.default("theme");delete s[r];if(!o[e]){this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",r,e));return}console.warn(`Could not load theme ${r}, using default ${e}.`);this._outstanding=this._loadTheme(e);return}this._pending=window.setTimeout((()=>{this._loadSettings()}),ze)}_loadTheme(e){var t;const n=this._current;const s=this._links;const i=this._themes;const o=this._splash?this._splash.show(i[e].isLight):new Ke.DisposableDelegate((()=>undefined));s.forEach((e=>{if(e.parentElement){e.parentElement.removeChild(e)}}));s.length=0;const r=(t=this._settings.schema.properties)===null||t===void 0?void 0:t.theme;if(r){r.enum=Object.keys(i).map((e=>{var t;return(t=i[e].displayName)!==null&&t!==void 0?t:e}))}const a=n?i[n].unload():Promise.resolve();return Promise.all([a,i[e].load()]).then((()=>{this._current=e;this._themeChanged.emit({name:"theme",oldValue:n,newValue:e});this._host.hide();requestAnimationFrame((()=>{this._host.show();qe.fitAll(this._host);o.dispose()}))})).catch((e=>{this._onError(e);o.dispose()}))}_onError(e){void S({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[A.okButton({label:this._trans.__("OK")})]})}}var qe;(function(e){function t(e){(0,m.each)(e.children(),t);e.fit()}e.fitAll=t})(qe||(qe={}));const Ve=new s.Token("@jupyterlab/apputils:ISessionContextDialogs");const Ye=new s.Token("@jupyterlab/apputils:IThemeManager");const Xe=new s.Token("@jupyterlab/apputils:ISanitizer");const Je=new s.Token("@jupyterlab/apputils:IToolbarWidgetRegistry");var Ze=n(24445);var Qe=n(95994);const et=50;async function tt(e){const t=await S({title:e.__("Information"),body:e.__("Toolbar customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[A.cancelButton(),A.okButton({label:e.__("Reload")})]});if(t.button.accept){location.reload()}}async function nt(e,t,n,i,o,r="toolbar"){var a;const l=o.load("jupyterlab");let d;let c={};function u(e){var s,i;c={};const o=Object.keys(t.plugins).map((e=>{var s,i;const o=(i=((s=t.plugins[e].schema["jupyter.lab.toolbars"])!==null&&s!==void 0?s:{})[n])!==null&&i!==void 0?i:[];c[e]=o;return o})).concat([(i=((s=e["jupyter.lab.toolbars"])!==null&&s!==void 0?s:{})[n])!==null&&i!==void 0?i:[]]).reduceRight(((e,t)=>Qe.SettingRegistry.reconcileToolbarItems(e,t,true)),[]);e.properties[r].default=Qe.SettingRegistry.reconcileToolbarItems(o,e.properties[r].default,true).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:et)-((s=t.rank)!==null&&s!==void 0?s:et)}))}t.transform(i,{compose:e=>{var t,n,i,o,a;if(!d){d=s.JSONExt.deepCopy(e.schema);u(d)}const l=(i=((n=((t=d.properties)!==null&&t!==void 0?t:{})[r])!==null&&n!==void 0?n:{}).default)!==null&&i!==void 0?i:[];const c=e.data.user;const h=e.data.composite;c[r]=(o=e.data.user[r])!==null&&o!==void 0?o:[];h[r]=((a=Qe.SettingRegistry.reconcileToolbarItems(l,c[r],false))!==null&&a!==void 0?a:[]).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:et)-((s=t.rank)!==null&&s!==void 0?s:et)}));e.data={composite:h,user:c};return e},fetch:e=>{if(!d){d=s.JSONExt.deepCopy(e.schema);u(d)}return{data:e.data,id:e.id,raw:e.raw,schema:d,version:e.version}}});d=null;const h=await t.load(i);h.changed.connect((()=>{var e;const t=(e=h.composite[r])!==null&&e!==void 0?e:[];p(t)}));t.pluginChanged.connect((async(o,r)=>{var a,d,u,h;if(r!==i){const i=(a=c[r])!==null&&a!==void 0?a:[];const o=(u=((d=t.plugins[r].schema["jupyter.lab.toolbars"])!==null&&d!==void 0?d:{})[n])!==null&&u!==void 0?u:[];if(!s.JSONExt.deepEqual(i,o)){if(c[r]){await tt(l)}else{c[r]=s.JSONExt.deepCopy(o);const t=((h=Qe.SettingRegistry.reconcileToolbarItems((0,m.toArray)(e),o,false))!==null&&h!==void 0?h:[]).sort(((e,t)=>{var n,s;return((n=e.rank)!==null&&n!==void 0?n:et)-((s=t.rank)!==null&&s!==void 0?s:et)}));p(t)}}}}));const p=t=>{e.clear();e.pushAll(t.filter((e=>!e.disabled)))};p((a=h.composite[r])!==null&&a!==void 0?a:[])}function st(e,t,n,i,o,r="toolbar"){const a=new Ze.ObservableList({itemCmp:(e,t)=>s.JSONExt.deepEqual(e,t)});nt(a,t,n,i,o,r).catch((e=>{console.error(`Failed to load toolbar items for factory ${n} from ${i}`,e)}));return t=>{const s=(s,o)=>{switch(o.type){case"move":i.move(o.oldIndex,o.newIndex);break;case"add":o.newValues.forEach((s=>i.push({name:s.name,widget:e.createWidget(n,t,s)})));break;case"remove":o.oldValues.forEach((()=>i.remove(o.oldIndex)));break;case"set":o.newValues.forEach((s=>i.set(o.newIndex,{name:s.name,widget:e.createWidget(n,t,s)})));break}};const i=new Ze.ObservableList({values:(0,m.toArray)(a).map((s=>({name:s.name,widget:e.createWidget(n,t,s)})))});a.changed.connect(s);t.disposed.connect((()=>{a.changed.disconnect(s)}));return i}}function it(e,t){if(!e.toolbar){console.log(`Widget ${e.id} has no 'toolbar'.`);return}const n=t(e);if(Array.isArray(n)){n.forEach((({name:t,widget:n})=>{e.toolbar.addItem(t,n)}))}else{const t=(t,n)=>{switch(n.type){case"add":n.newValues.forEach(((t,s)=>{e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}));break;case"move":n.oldValues.forEach((e=>{e.widget.parent=null}));n.newValues.forEach(((t,s)=>{e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}));break;case"remove":n.oldValues.forEach((e=>{e.widget.parent=null}));break;case"set":n.oldValues.forEach((e=>{e.widget.parent=null}));n.newValues.forEach(((t,s)=>{const i=(0,m.findIndex)(e.toolbar.names(),(e=>t.name===e));if(i>=0){(0,m.toArray)(e.toolbar.children())[i].parent=null}e.toolbar.insertItem(n.newIndex+s,t.name,t.widget)}));break}};t(n,{newIndex:0,newValues:(0,m.toArray)(n),oldIndex:0,oldValues:[],type:"add"});n.changed.connect(t);e.disposed.connect((()=>{n.changed.disconnect(t)}))}}class ot{constructor(e){this._widgets=new Map;this._defaultFactory=e.defaultFactory}get defaultFactory(){return this._defaultFactory}set defaultFactory(e){this._defaultFactory=e}createWidget(e,t,n){var s;const i=(s=this._widgets.get(e))===null||s===void 0?void 0:s.get(n.name);return i?i(t):this._defaultFactory(e,t,n)}registerFactory(e,t,n){let s=this._widgets.get(e);const i=s===null||s===void 0?void 0:s.get(t);if(!s){s=new Map;this._widgets.set(e,s)}s.set(t,n);return i}}function rt(e){return(t,n,s)=>{var i;switch((i=s.type)!==null&&i!==void 0?i:"command"){case"command":{const{command:t,args:n,label:i,icon:o}=s;const a=t!==null&&t!==void 0?t:"";const l=Object.assign({toolbar:true},n);const d=o?r.LabIcon.resolve({icon:o}):undefined;const c=(d!==null&&d!==void 0?d:e.icon(a,l))?i!==null&&i!==void 0?i:"":i;return new ye({commands:e,id:a,args:l,icon:d,label:c})}case"spacer":return _e.createSpacerItem();default:return new l.Widget}}}const at=new s.Token("@jupyterlab/apputils:IWindowResolver");class lt{get name(){return this._name}resolve(e){return dt.resolve(e).then((e=>{this._name=e}))}}var dt;(function(e){const t="@jupyterlab/statedb:StateDB";const n=`${t}:beacon`;const i=Math.floor(200+Math.random()*300);const o=`${t}:window`;let r=null;let a=null;const l=new s.PromiseDelegate;const d={};let c=null;let u=false;function h(){window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(s===null){return}if(t===n&&s!==r&&a!==null){p(u?c:a);return}if(u||t!==o){return}const i=s.replace(/\-\d+$/,"");d[i]=null;if(!a||a in d){_()}}))}function p(e){if(e===null){return}const{localStorage:t}=window;t.setItem(o,`${e}-${(new Date).getTime()}`)}function _(){u=true;r=null;l.reject(`Window name candidate "${a}" already exists`)}function g(e){if(u){return l.promise}a=e;if(a in d){_();return l.promise}const{localStorage:t,setTimeout:s}=window;s((()=>{if(u){return}if(!a||a in d){return _()}u=true;r=null;l.resolve(c=a);p(c)}),i);r=`${Math.random()}-${(new Date).getTime()}`;t.setItem(n,r);return l.promise}e.resolve=g;(()=>{h()})()})(dt||(dt={}))},76527:()=>{},96969:()=>{},32232:()=>{},24195:()=>{},73443:()=>{}}]);
//# sourceMappingURL=9144.50e44f6ef0f00975975d.js.map?v=50e44f6ef0f00975975d