(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[6588],{6588:(e,t,a)=>{"use strict";a.r(t);a.d(t,{DEFAULT_CONTEXT_ITEM_RANK:()=>L,default:()=>H});var o=a(10890);var n=a.n(o);var i=a(67616);var r=a.n(i);var s=a(66853);var l=a.n(s);var c=a(76905);var d=a.n(c);var u=a(95994);var p=a.n(u);var g=a(99345);var v=a.n(g);var b=a(70278);var m=a.n(b);var h=a(29131);var f=a.n(h);var y=a(47063);var x=a.n(y);var _=a(98034);var w=a.n(_);var S=a(15989);var I=a.n(S);var C=a(18453);var E=a.n(C);var T=a(2411);var R=a.n(T);const L=100;var j;(function(e){e.activateNextTab="application:activate-next-tab";e.activatePreviousTab="application:activate-previous-tab";e.activateNextTabBar="application:activate-next-tab-bar";e.activatePreviousTabBar="application:activate-previous-tab-bar";e.close="application:close";e.closeOtherTabs="application:close-other-tabs";e.closeRightTabs="application:close-right-tabs";e.closeAll="application:close-all";e.setMode="application:set-mode";e.toggleMode="application:toggle-mode";e.toggleLeftArea="application:toggle-left-area";e.toggleRightArea="application:toggle-right-area";e.togglePresentationMode="application:toggle-presentation-mode";e.tree="router:tree";e.switchSidebar="sidebar:switch"})(j||(j={}));const P={id:"@jupyterlab/application-extension:commands",autoStart:true,requires:[b.ITranslator],optional:[o.ILabShell,i.ICommandPalette],activate:(e,t,a,n)=>{const{commands:i,shell:r}=e;const l=t.load("jupyterlab");const c=l.__("Main Area");i.addCommand(o.JupyterFrontEndContextMenu.contextMenu,{label:l.__("Shift+Right Click for Browser Menu"),isEnabled:()=>false,execute:()=>void 0});const d=()=>{const t=e=>!!e.dataset.id;const a=e.contextMenuHitTest(t);if(!a){return r.currentWidget}const o=(0,y.toArray)(r.widgets("main")).filter((e=>e.id===a.dataset.id));if(o.length<1){return r.currentWidget}return o[0]};const u=e=>{e.forEach((e=>e.close()))};const p=(e,t)=>{switch(e.type){case"split-area":{const a=(0,y.iter)(e.children);let o=null;let n;do{n=a.next();if(n){o=p(n,t)}}while(!o&&n);return o}case"tab-area":{const{id:a}=t;return e.widgets.some((e=>e.id===a))?e:null}default:return null}};const g=e=>{var t;const o=a===null||a===void 0?void 0:a.saveLayout();const n=o===null||o===void 0?void 0:o.mainArea;if(!n||s.PageConfig.getOption("mode")!=="multiple-document"){return null}const i=(t=n.dock)===null||t===void 0?void 0:t.main;if(!i){return null}return p(i,e)};const v=e=>{const{id:t}=e;const a=g(e);const o=a?a.widgets||[]:[];const n=o.findIndex((e=>e.id===t));if(n<0){return[]}return o.slice(n+1)};i.addCommand(j.close,{label:()=>l.__("Close Tab"),isEnabled:()=>{const e=d();return!!e&&e.title.closable},execute:()=>{const e=d();if(e){e.close()}}});i.addCommand(j.closeOtherTabs,{label:()=>l.__("Close All Other Tabs"),isEnabled:()=>{const e=r.widgets("main");return!!e.next()&&!!e.next()},execute:()=>{const e=d();if(!e){return}const{id:t}=e;const a=(0,y.toArray)(r.widgets("main")).filter((e=>e.id!==t));u(a)}});i.addCommand(j.closeRightTabs,{label:()=>l.__("Close Tabs to Right"),isEnabled:()=>!!d()&&v(d()).length>0,execute:()=>{const e=d();if(!e){return}u(v(e))}});if(a){i.addCommand(j.activateNextTab,{label:l.__("Activate Next Tab"),execute:()=>{a.activateNextTab()}});i.addCommand(j.activatePreviousTab,{label:l.__("Activate Previous Tab"),execute:()=>{a.activatePreviousTab()}});i.addCommand(j.activateNextTabBar,{label:l.__("Activate Next Tab Bar"),execute:()=>{a.activateNextTabBar()}});i.addCommand(j.activatePreviousTabBar,{label:l.__("Activate Previous Tab Bar"),execute:()=>{a.activatePreviousTabBar()}});i.addCommand(j.closeAll,{label:l.__("Close All Tabs"),execute:()=>{a.closeAll()}});i.addCommand(j.toggleLeftArea,{label:()=>l.__("Show Left Sidebar"),execute:()=>{if(a.leftCollapsed){a.expandLeft()}else{a.collapseLeft();if(a.currentWidget){a.activateById(a.currentWidget.id)}}},isToggled:()=>!a.leftCollapsed,isVisible:()=>!a.isEmpty("left")});i.addCommand(j.toggleRightArea,{label:()=>l.__("Show Right Sidebar"),execute:()=>{if(a.rightCollapsed){a.expandRight()}else{a.collapseRight();if(a.currentWidget){a.activateById(a.currentWidget.id)}}},isToggled:()=>!a.rightCollapsed,isVisible:()=>!a.isEmpty("right")});i.addCommand(j.togglePresentationMode,{label:()=>l.__("Presentation Mode"),execute:()=>{a.presentationMode=!a.presentationMode},isToggled:()=>a.presentationMode,isVisible:()=>true});i.addCommand(j.setMode,{isVisible:e=>{const t=e["mode"];return t==="single-document"||t==="multiple-document"},execute:e=>{const t=e["mode"];if(t==="single-document"||t==="multiple-document"){a.mode=t;return}throw new Error(`Unsupported application shell mode: ${t}`)}});i.addCommand(j.toggleMode,{label:l.__("Simple Interface"),isToggled:()=>a.mode==="single-document",execute:()=>{const e=a.mode==="multiple-document"?{mode:"single-document"}:{mode:"multiple-document"};return i.execute(j.setMode,e)}})}if(n){[j.activateNextTab,j.activatePreviousTab,j.activateNextTabBar,j.activatePreviousTabBar,j.close,j.closeAll,j.closeOtherTabs,j.closeRightTabs,j.toggleLeftArea,j.toggleRightArea,j.togglePresentationMode,j.toggleMode].forEach((e=>n.addItem({command:e,category:c})))}}};const M={id:"@jupyterlab/application-extension:main",requires:[o.IRouter,i.IWindowResolver,b.ITranslator,o.JupyterFrontEnd.ITreeResolver],optional:[o.IConnectionLost],provides:o.ITreePathUpdater,activate:(e,t,a,n,r,l)=>{const c=n.load("jupyterlab");if(!(e instanceof o.JupyterLab)){throw new Error(`${M.id} must be activated in JupyterLab.`)}let d="";let u="";function p(e){void r.paths.then((()=>{u=e;if(!d){const a=s.PageConfig.getUrl({treePath:e});const o=s.URLExt.parse(a).pathname+s.URLExt.parse(window.location.href).search;t.navigate(o,{skipRouting:true});s.PageConfig.setOption("treePath",e)}}))}const g=a.name;console.debug(`Starting application in workspace: "${g}"`);if(e.registerPluginErrors.length!==0){const t=T.createElement("pre",null,e.registerPluginErrors.map((e=>e.message)).join("\n"));void(0,i.showErrorMessage)(c.__("Error Registering Plugins"),{message:t})}e.shell.layoutModified.connect((()=>{e.commands.notifyCommandChanged()}));e.shell.modeChanged.connect(((e,a)=>{const o=s.PageConfig.getUrl({mode:a});const n=s.URLExt.parse(o).pathname;t.navigate(n,{skipRouting:true});s.PageConfig.setOption("mode",a)}));void r.paths.then((()=>{e.shell.currentPathChanged.connect(((e,a)=>{const o=a.newValue;const n=o||u;const i=s.PageConfig.getUrl({treePath:n});const r=s.URLExt.parse(i).pathname+s.URLExt.parse(window.location.href).search;t.navigate(r,{skipRouting:true});s.PageConfig.setOption("treePath",n);d=o}))}));l=l||o.ConnectionLost;e.serviceManager.connectionFailure.connect(((e,t)=>l(e,t,n)));const v=e.serviceManager.builder;const b=()=>v.build().then((()=>(0,i.showDialog)({title:c.__("Build Complete"),body:T.createElement("div",null,c.__("Build successfully completed, reload page?"),T.createElement("br",null),c.__("You will lose any unsaved changes.")),buttons:[i.Dialog.cancelButton({label:c.__("Reload Without Saving"),actions:["reload"]}),i.Dialog.okButton({label:c.__("Save and Reload")})],hasClose:true}))).then((({button:{accept:a,actions:o}})=>{if(a){void e.commands.execute("docmanager:save").then((()=>{t.reload()})).catch((e=>{void(0,i.showErrorMessage)(c.__("Save Failed"),{message:T.createElement("pre",null,e.message)})}))}else if(o.includes("reload")){t.reload()}})).catch((e=>{void(0,i.showErrorMessage)(c.__("Build Failed"),{message:T.createElement("pre",null,e.message)})}));if(v.isAvailable&&v.shouldCheck){void v.getStatus().then((e=>{if(e.status==="building"){return b()}if(e.status!=="needed"){return}const t=T.createElement("div",null,c.__("JupyterLab build is suggested:"),T.createElement("br",null),T.createElement("pre",null,e.message));void(0,i.showDialog)({title:c.__("Build Recommended"),body:t,buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:c.__("Build")})]}).then((e=>e.button.accept?b():undefined))}))}return p},autoStart:true};const B={id:"@jupyterlab/application-extension:context-menu",autoStart:true,requires:[u.ISettingRegistry,b.ITranslator],activate:(e,t,a)=>{const o=a.load("jupyterlab");function n(t){const a=new h.RankedMenu(Object.assign(Object.assign({},t),{commands:e.commands}));if(t.label){a.title.label=o.__(t.label)}return a}e.started.then((()=>Y.loadSettingsContextMenu(e.contextMenu,t,n,a))).catch((e=>{console.error("Failed to load context menu items from settings registry.",e)}))}};const A={id:"@jupyterlab/application-extension:dirty",autoStart:true,requires:[b.ITranslator],activate:(e,t)=>{if(!(e instanceof o.JupyterLab)){throw new Error(`${A.id} must be activated in JupyterLab.`)}const a=t.load("jupyterlab");const n=a.__("Are you sure you want to exit JupyterLab?\n\nAny unsaved changes will be lost.");window.addEventListener("beforeunload",(t=>{if(e.status.isDirty){return t.returnValue=n}}))}};const O={id:"@jupyterlab/application-extension:layout",requires:[g.IStateDB,o.ILabShell,u.ISettingRegistry,b.ITranslator],activate:(e,t,a,n,i)=>{const r=e.started;const l=e.commands;const c=new o.LayoutRestorer({connector:t,first:r,registry:l});void c.fetch().then((t=>{a.restoreLayout(s.PageConfig.getOption("mode"),t);a.layoutModified.connect((()=>{void c.save(a.saveLayout())}));Y.activateSidebarSwitcher(e,a,n,i,t)}));return c},autoStart:true,provides:o.ILayoutRestorer};const k={id:"@jupyterlab/application-extension:router",requires:[o.JupyterFrontEnd.IPaths],activate:(e,t)=>{const{commands:a}=e;const n=t.urls.base;const i=new o.Router({base:n,commands:a});void e.started.then((()=>{void i.route();window.addEventListener("popstate",(()=>{void i.route()}))}));return i},autoStart:true,provides:o.IRouter};const J={id:"@jupyterlab/application-extension:tree-resolver",autoStart:true,requires:[o.IRouter],provides:o.JupyterFrontEnd.ITreeResolver,activate:(e,t)=>{const{commands:a}=e;const o=new S.DisposableSet;const n=new _.PromiseDelegate;const i=new RegExp("/(lab|doc)(/workspaces/[a-zA-Z0-9-_]+)?(/tree/.*)?");o.add(a.addCommand(j.tree,{execute:async e=>{var t;if(o.isDisposed){return}const a=s.URLExt.queryStringToObject((t=e.search)!==null&&t!==void 0?t:"");const i=a["file-browser-path"]||"";delete a["file-browser-path"];o.dispose();n.resolve({browser:i,file:s.PageConfig.getOption("treePath")})}}));o.add(t.register({command:j.tree,pattern:i}));const r=()=>{if(o.isDisposed){return}o.dispose();n.resolve(null)};t.routed.connect(r);o.add(new S.DisposableDelegate((()=>{t.routed.disconnect(r)})));return{paths:n.promise}}};const D={id:"@jupyterlab/application-extension:notfound",requires:[o.JupyterFrontEnd.IPaths,o.IRouter,b.ITranslator],activate:(e,t,a,o)=>{const n=o.load("jupyterlab");const r=t.urls.notFound;if(!r){return}const s=a.base;const l=n.__("The path: %1 was not found. JupyterLab redirected to: %2",r,s);a.navigate("");void(0,i.showErrorMessage)(n.__("Path Not Found"),{message:l})},autoStart:true};const N={id:"@jupyterlab/application-extension:faviconbusy",requires:[o.ILabStatus],activate:async(e,t)=>{t.busySignal.connect(((e,t)=>{const a=document.querySelector(`link[rel="icon"]${t?".idle.favicon":".busy.favicon"}`);if(!a){return}const o=document.querySelector(`link${t?".busy.favicon":".idle.favicon"}`);if(!o){return}if(a!==o){a.rel="";o.rel="icon";o.parentNode.replaceChild(o,o)}}))},autoStart:true};const q={id:"@jupyterlab/application-extension:shell",optional:[u.ISettingRegistry],activate:(e,t)=>{if(!(e.shell instanceof o.LabShell)){throw new Error(`${q.id} did not find a LabShell instance.`)}if(t){t.load(q.id).then((t=>{e.shell.updateConfig(t.composite);t.changed.connect((()=>{e.shell.updateConfig(t.composite)}))})).catch((e=>{console.error("Failed to load shell settings.",e)}))}return e.shell},autoStart:true,provides:o.ILabShell};const F={id:"@jupyterlab/application-extension:status",activate:e=>{if(!(e instanceof o.JupyterLab)){throw new Error(`${F.id} must be activated in JupyterLab.`)}return e.status},autoStart:true,provides:o.ILabStatus};const U={id:"@jupyterlab/application-extension:info",activate:e=>{if(!(e instanceof o.JupyterLab)){throw new Error(`${U.id} must be activated in JupyterLab.`)}return e.info},autoStart:true,provides:o.JupyterLab.IInfo};const W={id:"@jupyterlab/apputils-extension:paths",activate:e=>{if(!(e instanceof o.JupyterLab)){throw new Error(`${W.id} must be activated in JupyterLab.`)}return e.paths},autoStart:true,provides:o.JupyterFrontEnd.IPaths};const $={id:"@jupyterlab/application-extension:property-inspector",autoStart:true,requires:[o.ILabShell,b.ITranslator],optional:[o.ILayoutRestorer],provides:c.IPropertyInspectorProvider,activate:(e,t,a,o)=>{const n=a.load("jupyterlab");const i=new c.SideBarPropertyInspectorProvider(t,undefined,a);i.title.icon=h.buildIcon;i.title.caption=n.__("Property Inspector");i.id="jp-property-inspector";t.add(i,"right",{rank:100});if(o){o.add(i,"jp-property-inspector")}return i}};const V={id:"@jupyterlab/application-extension:logo",autoStart:true,requires:[o.ILabShell],activate:(e,t)=>{const a=new C.Widget;h.jupyterIcon.element({container:a.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"});a.id="jp-MainLogo";t.add(a,"top",{rank:0})}};const z=[B,A,M,P,O,k,J,D,N,q,F,U,W,$,V];const H=z;var Y;(function(e){async function t(e){const t=await(0,i.showDialog)({title:e.__("Information"),body:e.__("Context menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[i.Dialog.cancelButton(),i.Dialog.okButton({label:e.__("Reload")})]});if(t.button.accept){location.reload()}}async function a(e,a,o,n){var r;const s=n.load("jupyterlab");const l=B.id;let c;let d={};function p(e){var t,o;d={};const n=Object.keys(a.plugins).map((e=>{var t,o;const n=(o=(t=a.plugins[e].schema["jupyter.lab.menus"])===null||t===void 0?void 0:t.context)!==null&&o!==void 0?o:[];d[e]=n;return n})).concat([(o=(t=e["jupyter.lab.menus"])===null||t===void 0?void 0:t.context)!==null&&o!==void 0?o:[]]).reduceRight(((e,t)=>u.SettingRegistry.reconcileItems(e,t,true)),[]);e.properties.contextMenu.default=u.SettingRegistry.reconcileItems(n,e.properties.contextMenu.default,true).sort(((e,t)=>{var a,o;return((a=e.rank)!==null&&a!==void 0?a:Infinity)-((o=t.rank)!==null&&o!==void 0?o:Infinity)}))}a.transform(l,{compose:e=>{var t,a,o,n;if(!c){c=_.JSONExt.deepCopy(e.schema);p(c)}const i=(o=(a=(t=c.properties)===null||t===void 0?void 0:t.contextMenu)===null||a===void 0?void 0:a.default)!==null&&o!==void 0?o:[];const r=Object.assign(Object.assign({},e.data.user),{contextMenu:(n=e.data.user.contextMenu)!==null&&n!==void 0?n:[]});const s=Object.assign(Object.assign({},e.data.composite),{contextMenu:u.SettingRegistry.reconcileItems(i,r.contextMenu,false)});e.data={composite:s,user:r};return e},fetch:e=>{if(!c){c=_.JSONExt.deepCopy(e.schema);p(c)}return{data:e.data,id:e.id,raw:e.raw,schema:c,version:e.version}}});c=null;const g=await a.load(l);const v=(r=g.composite.contextMenu)!==null&&r!==void 0?r:[];u.SettingRegistry.filterDisabledItems(v).forEach((t=>{i.MenuFactory.addContextItem(Object.assign({rank:L},t),e,o)}));g.changed.connect((()=>{var e;const a=(e=g.composite.contextMenu)!==null&&e!==void 0?e:[];if(!_.JSONExt.deepEqual(v,a)){void t(s)}}));a.pluginChanged.connect((async(n,r)=>{var c,p,g,b;if(r!==l){const n=(c=d[r])!==null&&c!==void 0?c:[];const l=(g=(p=a.plugins[r].schema["jupyter.lab.menus"])===null||p===void 0?void 0:p.context)!==null&&g!==void 0?g:[];if(!_.JSONExt.deepEqual(n,l)){if(d[r]){await t(s)}else{d[r]=_.JSONExt.deepCopy(l);const t=(b=u.SettingRegistry.reconcileItems(l,v,false,false))!==null&&b!==void 0?b:[];u.SettingRegistry.filterDisabledItems(t).forEach((t=>{i.MenuFactory.addContextItem(Object.assign({rank:L},t),e,o)}))}}}}))}e.loadSettingsContextMenu=a;function o(e,t,a,o,n){const i="@jupyterlab/application-extension:sidebar";const r=o.load("jupyterlab");let s={};const l=(e,a)=>{(0,y.each)(t.widgets("left"),(e=>{var o;if(s[e.id]&&s[e.id]==="right"){t.add(e,"right");if(a&&((o=a.rightArea)===null||o===void 0?void 0:o.currentWidget)===e){t.activateById(e.id)}}}));(0,y.each)(t.widgets("right"),(e=>{var o;if(s[e.id]&&s[e.id]==="left"){t.add(e,"left");if(a&&((o=a.leftArea)===null||o===void 0?void 0:o.currentWidget)===e){t.activateById(e.id)}}}))};void Promise.all([a.load(i),e.restored]).then((([e])=>{s=e.get("overrides").composite||{};e.changed.connect((e=>{s=e.get("overrides").composite||{};l(t)}));t.layoutModified.connect(l);l(t,n)}));e.commands.addCommand(j.switchSidebar,{label:r.__("Switch Sidebar Side"),execute:()=>{const t=e.contextMenuHitTest((e=>!!e.dataset.id));if(!t){return}const o=t.dataset["id"];const n=document.getElementById("jp-left-stack");const r=document.getElementById(o);let l;if(n&&r&&n.contains(r)){l="right"}else{l="left"}return a.set(i,"overrides",Object.assign(Object.assign({},s),{[o]:l}))}})}e.activateSidebarSwitcher=o})(Y||(Y={}))}}]);
//# sourceMappingURL=6588.dcbdbc189be53ffa2696.js.map?v=dcbdbc189be53ffa2696