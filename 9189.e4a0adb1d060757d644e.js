(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[9189],{37492:(e,t,n)=>{!function(t,a){true?e.exports=a(n(2411)):0}(n.g,(function(e){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(t,n){t.exports=e},function(e,t,n){"use strict";var a=n(3);function s(){}function r(){}r.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,r,i){if(i!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:s};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n,a){"use strict";a.r(n);var s=a(1),r=a.n(s),i=a(0),o=a.n(i);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var c=function(e){var t=e.pageClassName,n=e.pageLinkClassName,a=e.page,s=e.selected,i=e.activeClassName,o=e.activeLinkClassName,c=e.getEventListener,u=e.pageSelectedHandler,d=e.href,p=e.extraAriaContext,h=e.ariaLabel||"Page "+a+(p?" "+p:""),m=null;return s&&(m="page",h=e.ariaLabel||"Page "+a+" is your current page",t=void 0!==t?t+" "+i:i,void 0!==n?void 0!==o&&(n=n+" "+o):n=o),r.a.createElement("li",{className:t},r.a.createElement("a",l({role:"button",className:n,href:d,tabIndex:"0","aria-label":h,"aria-current":m,onKeyPress:u},c(u)),a))};c.propTypes={pageSelectedHandler:o.a.func.isRequired,selected:o.a.bool.isRequired,pageClassName:o.a.string,pageLinkClassName:o.a.string,activeClassName:o.a.string,activeLinkClassName:o.a.string,extraAriaContext:o.a.string,href:o.a.string,ariaLabel:o.a.string,page:o.a.number.isRequired,getEventListener:o.a.func.isRequired};var u=c;function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==n?n:t;if(a)if("function"!=typeof a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var r=void 0;try{r=a[s]}catch(e){continue}e.register(r,s,"/home/adele/workspace/react-paginate/react_components/PageView.js")}}else e.register(a,"module.exports","/home/adele/workspace/react-paginate/react_components/PageView.js")}}();var p=function(e){var t=e.breakLabel,n=e.breakClassName,a=e.breakLinkClassName,s=e.breakHandler,i=e.getEventListener,o=n||"break";return r.a.createElement("li",{className:o},r.a.createElement("a",d({className:a,role:"button",tabIndex:"0",onKeyPress:s},i(s)),t))};p.propTypes={breakLabel:o.a.oneOfType([o.a.string,o.a.node]),breakClassName:o.a.string,breakLinkClassName:o.a.string,breakHandler:o.a.func.isRequired,getEventListener:o.a.func.isRequired};var h=p;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var s=E(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==n?n:t;if(a)if("function"!=typeof a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var r=void 0;try{r=a[s]}catch(e){continue}e.register(r,s,"/home/adele/workspace/react-paginate/react_components/BreakView.js")}}else e.register(a,"module.exports","/home/adele/workspace/react-paginate/react_components/BreakView.js")}}();var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,a,s=b(i);function i(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),k(_(t=s.call(this,e)),"handlePreviousPage",(function(e){var n=t.state.selected;e.preventDefault?e.preventDefault():e.returnValue=!1,n>0&&t.handlePageSelected(n-1,e)})),k(_(t),"handleNextPage",(function(e){var n=t.state.selected,a=t.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=!1,n<a-1&&t.handlePageSelected(n+1,e)})),k(_(t),"handlePageSelected",(function(e,n){n.preventDefault?n.preventDefault():n.returnValue=!1,t.state.selected!==e&&(t.setState({selected:e}),t.callCallback(e))})),k(_(t),"getEventListener",(function(e){return k({},t.props.eventListener,e)})),k(_(t),"handleBreakClick",(function(e,n){n.preventDefault?n.preventDefault():n.returnValue=!1;var a=t.state.selected;t.handlePageSelected(a<e?t.getForwardJump():t.getBackwardJump(),n)})),k(_(t),"callCallback",(function(e){void 0!==t.props.onPageChange&&"function"==typeof t.props.onPageChange&&t.props.onPageChange({selected:e})})),k(_(t),"pagination",(function(){var e=[],n=t.props,a=n.pageRangeDisplayed,s=n.pageCount,i=n.marginPagesDisplayed,o=n.breakLabel,l=n.breakClassName,c=n.breakLinkClassName,u=t.state.selected;if(s<=a)for(var d=0;d<s;d++)e.push(t.getPageElement(d));else{var p,m,g,f=a/2,v=a-f;u>s-a/2?f=a-(v=s-u):u<a/2&&(v=a-(f=u));var b=function(e){return t.getPageElement(e)};for(p=0;p<s;p++)(m=p+1)<=i||m>s-i||p>=u-f&&p<=u+v?e.push(b(p)):o&&e[e.length-1]!==g&&(g=r.a.createElement(h,{key:p,breakLabel:o,breakClassName:l,breakLinkClassName:c,breakHandler:t.handleBreakClick.bind(null,p),getEventListener:t.getEventListener}),e.push(g))}return e})),n=e.initialPage?e.initialPage:e.forcePage?e.forcePage:0,t.state={selected:n},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialPage,n=e.disableInitialCallback,a=e.extraAriaContext;void 0===t||n||this.callCallback(t),a&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead.")}},{key:"componentDidUpdate",value:function(e){void 0!==this.props.forcePage&&this.props.forcePage!==e.forcePage&&this.setState({selected:this.props.forcePage})}},{key:"getForwardJump",value:function(){var e=this.state.selected,t=this.props,n=t.pageCount,a=e+t.pageRangeDisplayed;return a>=n?n-1:a}},{key:"getBackwardJump",value:function(){var e=this.state.selected-this.props.pageRangeDisplayed;return e<0?0:e}},{key:"hrefBuilder",value:function(e){var t=this.props,n=t.hrefBuilder,a=t.pageCount;if(n&&e!==this.state.selected&&e>=0&&e<a)return n(e+1)}},{key:"ariaLabelBuilder",value:function(e){var t=e===this.state.selected;if(this.props.ariaLabelBuilder&&e>=0&&e<this.props.pageCount){var n=this.props.ariaLabelBuilder(e+1,t);return this.props.extraAriaContext&&!t&&(n=n+" "+this.props.extraAriaContext),n}}},{key:"getPageElement",value:function(e){var t=this.state.selected,n=this.props,a=n.pageClassName,s=n.pageLinkClassName,i=n.activeClassName,o=n.activeLinkClassName,l=n.extraAriaContext;return r.a.createElement(u,{key:e,pageSelectedHandler:this.handlePageSelected.bind(null,e),selected:t===e,pageClassName:a,pageLinkClassName:s,activeClassName:i,activeLinkClassName:o,extraAriaContext:l,href:this.hrefBuilder(e),ariaLabel:this.ariaLabelBuilder(e),page:e+1,getEventListener:this.getEventListener})}},{key:"render",value:function(){var e=this.props,t=e.disabledClassName,n=e.pageCount,a=e.containerClassName,s=e.previousLabel,i=e.previousClassName,o=e.previousLinkClassName,l=e.previousAriaLabel,c=e.nextLabel,u=e.nextClassName,d=e.nextLinkClassName,p=e.nextAriaLabel,h=this.state.selected,m=i+(0===h?" ".concat(t):""),f=u+(h===n-1?" ".concat(t):""),v=0===h?"true":"false",b=h===n-1?"true":"false";return r.a.createElement("ul",{className:a},r.a.createElement("li",{className:m},r.a.createElement("a",g({className:o,href:this.hrefBuilder(h-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":v,"aria-label":l},this.getEventListener(this.handlePreviousPage)),s)),this.pagination(),r.a.createElement("li",{className:f},r.a.createElement("a",g({className:d,href:this.hrefBuilder(h+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":b,"aria-label":p},this.getEventListener(this.handleNextPage)),c)))}}])&&f(t.prototype,n),a&&f(t,a),i}(s.Component);k(x,"propTypes",{pageCount:o.a.number.isRequired,pageRangeDisplayed:o.a.number.isRequired,marginPagesDisplayed:o.a.number.isRequired,previousLabel:o.a.node,previousAriaLabel:o.a.string,nextLabel:o.a.node,nextAriaLabel:o.a.string,breakLabel:o.a.oneOfType([o.a.string,o.a.node]),hrefBuilder:o.a.func,onPageChange:o.a.func,initialPage:o.a.number,forcePage:o.a.number,disableInitialCallback:o.a.bool,containerClassName:o.a.string,pageClassName:o.a.string,pageLinkClassName:o.a.string,activeClassName:o.a.string,activeLinkClassName:o.a.string,previousClassName:o.a.string,nextClassName:o.a.string,previousLinkClassName:o.a.string,nextLinkClassName:o.a.string,disabledClassName:o.a.string,breakClassName:o.a.string,breakLinkClassName:o.a.string,extraAriaContext:o.a.string,ariaLabelBuilder:o.a.func,eventListener:o.a.string}),k(x,"defaultProps",{pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:!1,eventListener:"onClick"}),function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==n?n:t;if(a)if("function"!=typeof a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var r=void 0;try{r=a[s]}catch(e){continue}e.register(r,s,"/home/adele/workspace/react-paginate/react_components/PaginationBoxView.js")}}else e.register(a,"module.exports","/home/adele/workspace/react-paginate/react_components/PaginationBoxView.js")}}();n.default=x;!function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var a=void 0!==n?n:t;if(a)if("function"!=typeof a){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var r=void 0;try{r=a[s]}catch(e){continue}e.register(r,s,"/home/adele/workspace/react-paginate/react_components/index.js")}}else e.register(a,"module.exports","/home/adele/workspace/react-paginate/react_components/index.js")}}()}])}))},69189:(e,t,n)=>{"use strict";n.r(t);n.d(t,{CollapsibleSection:()=>q,ExtensionView:()=>$,ListModel:()=>E,ListView:()=>T,Lister:()=>f,SearchBar:()=>S,Searcher:()=>b,isJupyterOrg:()=>y});var a=n(67616);var s=n(42911);var r=n(70278);var i=n(72245);var o=n(97699);var l=n(2411);function c(e,t,n){n=n||r.nullTranslator;const s=n.load("jupyterlab");if(t.isAvailable){return t.build().then((()=>(0,a.showDialog)({title:s.__("Build Complete"),body:l.createElement("div",null,s.__("Build successfully completed, reload page?"),l.createElement("br",null),s.__("You will lose any unsaved changes.")),buttons:[a.Dialog.cancelButton({label:s.__("Reload Without Saving"),actions:["reload"]}),a.Dialog.okButton({label:s.__("Save and Reload")})],hasClose:true}))).then((({button:{accept:t,actions:n}})=>{if(t){void e.commands.execute("docmanager:save").then((()=>{location.reload()})).catch((e=>{void(0,a.showErrorMessage)(s.__("Save Failed"),{message:l.createElement("pre",null,e.message)})}))}else if(n.includes("reload")){location.reload()}})).catch((e=>{void(0,a.showDialog)({title:s.__("Build Failed"),body:l.createElement("pre",null,e.message)})}))}return Promise.resolve()}const u={pip:e=>`pip install ${e}`,conda:e=>`conda install -c conda-forge ${e}`};function d(e){var t,n,a,s;const r=Array();for(const i of e.managers){const o=(a=(n=(t=e.overrides)===null||t===void 0?void 0:t[i])===null||n===void 0?void 0:n.name)!==null&&a!==void 0?a:e.base.name;if(!o){console.warn(`No package name found for manager ${i}`);continue}const l=(s=u[i])===null||s===void 0?void 0:s.call(u,o);if(!l){console.warn(`Don't know how to install packages for manager ${i}`)}r.push(l)}return r}function p(e,t,n){n=n||r.nullTranslator;const s=n.load("jupyterlab");const i=[];if(t){i.push(l.createElement("p",{key:"server-companion"},s.__(`This package has indicated that it needs a corresponding server\nextension. Please contact your Administrator to update the server with\none of the following commands:`),d(t).map((e=>l.createElement("p",{key:e},l.createElement("code",null,e))))))}if(e.length>0){i.push(l.createElement("p",{key:"kernel-companion"},s.__("This package has indicated that it needs a corresponding package for the kernel.")));for(const[t,n]of e.entries()){i.push(l.createElement("p",{key:`companion-${t}`},s.__(`The package <code>%1</code>, is required by the following kernels:`,n.kernelInfo.base.name)));const e=[];for(const[t,a]of n.kernels.entries()){e.push(l.createElement("li",{key:`kernels-${t}`},l.createElement("code",null,a.display_name)))}i.push(l.createElement("ul",{key:"kernel-companion-end"},e));i.push(l.createElement("p",{key:`kernel-companion-${t}`},s.__(`This package has indicated that it needs a corresponding kernel\npackage. Please contact your Administrator to update the server with\none of the following commands:`),d(n.kernelInfo).map((e=>l.createElement("p",{key:e},l.createElement("code",null,e))))))}}const o=l.createElement("div",null,i,l.createElement("p",null,s.__(`You should make sure that the indicated packages are installed before\ntrying to use the extension. Do you want to continue with the extension\ninstallation?`)));const c=e.length>0;const u=!!t;let p="";if(c&&u){p=s.__("Kernel and Server Companions")}else if(c){p=s.__("Kernel Companions")}else{p=s.__("Server Companion")}return(0,a.showDialog)({title:p,body:o,buttons:[a.Dialog.cancelButton({label:s.__("Cancel")}),a.Dialog.okButton({label:s.__("OK"),caption:s.__("Install the JupyterLab extension.")})]}).then((e=>e.button.accept))}function h(e,t,n){n=n||r.nullTranslator;const s=n.load("jupyterlab");const i=[];i.push(l.createElement("p",null,s.__("An error occurred installing <code>%1</code>.",e)));if(t){i.push(l.createElement("p",null,l.createElement("span",{className:"jp-extensionmanager-dialog-subheader"},s.__("Error message:"))),l.createElement("pre",null,t.trim()))}const o=l.createElement("div",{className:"jp-extensionmanager-dialog"},i);void(0,a.showDialog)({title:s.__("Extension Installation Error"),body:o,buttons:[a.Dialog.warnButton({label:s.__("OK")})]})}var m=n(66853);var g=n(8595);class f{constructor(){this._listings=null;this._listingsLoaded=new g.Signal(this);v("@jupyterlab/extensionmanager-extension/listings.json").then((e=>{this._listings={mode:"default",uris:[],entries:[]};if(e.blocked_extensions_uris.length>0&&e.allowed_extensions_uris.length>0){console.warn("Simultaneous black and white list are not allowed.");this._listings={mode:"invalid",uris:[],entries:[]}}else if(e.blocked_extensions_uris.length>0||e.allowed_extensions_uris.length>0){this._listings={mode:e.blocked_extensions_uris.length>0?"block":"allow",uris:e.blocked_extensions_uris.length>0?e.blocked_extensions_uris:e.allowed_extensions_uris,entries:e.blocked_extensions_uris.length>0?e.blocked_extensions:e.allowed_extensions}}this._listingsLoaded.emit(this._listings)})).catch((e=>{console.error(e)}))}get listingsLoaded(){return this._listingsLoaded}}async function v(e="",t={}){const n=s.ServerConnection.makeSettings();const a=m.URLExt.join(n.baseUrl,n.appUrl,"api/listings/",e);let r;try{r=await s.ServerConnection.makeRequest(a,t,n)}catch(o){throw new s.ServerConnection.NetworkError(o)}const i=await r.json();if(!r.ok){throw new s.ServerConnection.ResponseError(r,i.message)}return i}class b{constructor(e="https://registry.npmjs.org/-/v1/",t="https://unpkg.com",n=true){this.repoUri=e;this.cdnUri=t;this.enableCdn=n}searchExtensions(e,t=0,n=250){const a=new URL("search",this.repoUri);const s=`${e} keywords:"jupyterlab-extension"`;a.searchParams.append("text",s);a.searchParams.append("size",n.toString());a.searchParams.append("from",(n*t).toString());return fetch(a.toString()).then((e=>{if(e.ok){return e.json()}return[]}))}fetchPackageData(e,t){const n=this.enableCdn?new URL(`/${e}@${t}/package.json`,this.cdnUri):new URL(`/${e}/${t}`,this.repoUri);return fetch(n.toString()).then((e=>{if(e.ok){return e.json()}return null}))}}function y(e){const t=["jupyterlab","jupyter-widgets"];const n=e.split("/");const a=n[0];return n.length>1&&!!a&&a[0]==="@"&&t.indexOf(a.slice(1))!==-1}const _="lab/api/extensions";class E extends a.VDomModel{constructor(e,t,n,a){super();this.installedError=null;this.searchError=null;this.blockedExtensionsError=null;this.serverConnectionError=null;this.serverRequirementsError=null;this.initialized=false;this.promptBuild=false;this.lister=new f;this._query="";this._page=0;this._pagination=250;this._totalEntries=0;this._pendingActions=[];this._totalblockedExtensionsFound=0;this._totalallowedExtensionsFound=0;this.translator=a||r.nullTranslator;this._app=e;this._installed=[];this._searchResult=[];this.serviceManager=t;this.serverConnectionSettings=s.ServerConnection.makeSettings();this._debouncedUpdate=new i.Debouncer(this.update.bind(this),1e3);this.lister.listingsLoaded.connect(this._listingIsLoaded,this);this.searcher=new b(n.composite["npmRegistry"],n.composite["npmCdn"],n.composite["enableCdn"]);k=n.composite["disclaimed"]===true;n.changed.connect((()=>{k=n.composite["disclaimed"]===true;this.searcher=new b(n.composite["npmRegistry"],n.composite["npmCdn"],n.composite["enableCdn"]);void this.update()}))}_listingIsLoaded(e,t){this._listMode=t.mode;this._blockedExtensionsArray=new Array;if(this._listMode==="block"){t.entries.map((e=>{this._blockedExtensionsArray.push({name:e.name,regexp:new RegExp(e.name),type:e.type,reason:e.reason,creation_date:e.creation_date,last_update_date:e.last_update_date})}))}this._allowedExtensionsArray=new Array;if(this._listMode==="allow"){t.entries.map((e=>{this._allowedExtensionsArray.push({name:e.name,regexp:new RegExp(e.name),type:e.type,reason:e.reason,creation_date:e.creation_date,last_update_date:e.last_update_date})}))}void this.initialize()}get installed(){return this._installed}get searchResult(){return this._searchResult}get query(){return this._query}set query(e){this._query=e;void this._debouncedUpdate.invoke()}get page(){return this._page}set page(e){this._page=e;void this.update()}get pagination(){return this._pagination}set pagination(e){this._pagination=e;void this.update()}get totalEntries(){return this._totalEntries}get listMode(){return this._listMode}get totalblockedExtensionsFound(){return this._totalblockedExtensionsFound}get totalallowedExtensionsFound(){return this._totalallowedExtensionsFound}initialize(){return this.update().then((()=>{this.initialized=true;this.stateChanged.emit(undefined)})).catch((()=>{this.initialized=true;this.stateChanged.emit(undefined)}))}hasPendingActions(){return this._pendingActions.length>0}async install(e){if(e.installed){await this._performAction("install",e).then((t=>{if(t.status!=="ok"){h(e.name,t.message,this.translator)}return this.update()}))}await this.checkCompanionPackages(e).then((t=>{if(t){return this._performAction("install",e).then((t=>{if(t.status!=="ok"){h(e.name,t.message,this.translator)}return this.update()}))}}))}async uninstall(e){if(!e.installed){throw new Error(`Not installed, cannot uninstall: ${e.name}`)}await this._performAction("uninstall",e);return this.update()}async enable(e){if(e.enabled){throw new Error(`Already enabled: ${e.name}`)}await this._performAction("enable",e);await this.update()}async disable(e){if(!e.enabled){throw new Error(`Already disabled: ${e.name}`)}await this._performAction("disable",e);await this.update()}checkCompanionPackages(e){return this.searcher.fetchPackageData(e.name,e.latest_version).then((e=>{if(!e||!e.jupyterlab||!e.jupyterlab.discovery){return true}const t=e.jupyterlab.discovery;const n=[];if(t.kernel){for(const e of t.kernel){const t=x.matchSpecs(e,this.serviceManager.kernelspecs.specs);n.push({kernelInfo:e,kernels:t})}}if(n.length<1&&!t.server){return true}return p(n,t.server,this.translator)}))}triggerBuildCheck(){const e=this.serviceManager.builder;if(e.isAvailable&&!this.promptBuild){const t=e.getStatus().then((t=>{if(t.status==="building"){return c(this._app,e)}if(t.status!=="needed"){return}if(!this.promptBuild){this.promptBuild=true;this.stateChanged.emit(undefined)}}));this._addPendingAction(t)}}performBuild(){if(this.promptBuild){this.promptBuild=false;this.stateChanged.emit(undefined)}const e=c(this._app,this.serviceManager.builder);this._addPendingAction(e)}ignoreBuildRecommendation(){if(this.promptBuild){this.promptBuild=false;this.stateChanged.emit(undefined)}}refreshInstalled(){const e=this.update(true);this._addPendingAction(e)}async translateSearchResult(e){const t={};this._totalblockedExtensionsFound=0;this._totalallowedExtensionsFound=0;this._totalEntries=0;for(const n of(await e).objects){const e=n.package;if(e.keywords.indexOf("deprecated")>=0){continue}this._totalEntries=this._totalEntries+1;const a=this.isListed(e.name,this._blockedExtensionsArray);if(a){this._totalblockedExtensionsFound=this._totalblockedExtensionsFound+1}const s=this.isListed(e.name,this._allowedExtensionsArray);if(s){this._totalallowedExtensionsFound=this._totalallowedExtensionsFound+1}t[e.name]={name:e.name,description:e.description,url:"homepage"in e.links?e.links.homepage:"repository"in e.links?e.links.repository:e.links.npm,installed:false,enabled:false,status:null,latest_version:e.version,installed_version:"",blockedExtensionsEntry:a,allowedExtensionsEntry:s,pkg_type:"source",install:undefined}}return t}async translateInstalled(e){const t=[];const n={};for(const a of await e){t.push(e.then((e=>{var t,s,r;n[a.name]={name:a.name,description:a.description,url:a.url,installed:a.installed!==false,enabled:a.enabled,status:a.status,latest_version:a.latest_version,installed_version:a.installed_version,blockedExtensionsEntry:this.isListed(a.name,this._blockedExtensionsArray),allowedExtensionsEntry:this.isListed(a.name,this._allowedExtensionsArray),pkg_type:a.pkg_type,install:{packageManager:(t=a.install)===null||t===void 0?void 0:t.packageManager,packageName:(s=a.install)===null||s===void 0?void 0:s.packageName,uninstallInstructions:(r=a.install)===null||r===void 0?void 0:r.uninstallInstructions}}})))}return Promise.all(t).then((()=>n))}isListed(e,t){let n=undefined;t.forEach((t=>{var a;if(t.regexp&&((a=t.regexp)===null||a===void 0?void 0:a.test(e))){n=t}}));return n}fetchInstalled(e=false){const t=new URL(_,this.serverConnectionSettings.baseUrl);if(e){t.searchParams.append("refresh","1")}const n=s.ServerConnection.makeRequest(t.toString(),{},this.serverConnectionSettings).then((e=>{x.handleError(e);return e.json()}));n.then((()=>{this.serverConnectionError=null}),(e=>{this.serverConnectionError=e.toString()}));return n}async performSearch(){if(this.query===null){this.query=""}const e=this.searcher.searchExtensions(this.query,this.page,this.pagination);const t=this.translateSearchResult(e);let n;try{n=await t;this.searchError=null}catch(a){n={};this.searchError=a.toString()}return n}async queryInstalled(e){let t;try{t=await this.translateInstalled(this.fetchInstalled(e));this.installedError=null}catch(n){t={};this.installedError=n.toString()}return t}async update(e=false){if(E.isDisclaimed()){const[t,n]=await Promise.all([this.performSearch(),this.queryInstalled(e)]);const a=[];for(const e of Object.keys(n)){a.push(n[e])}this._installed=a.sort(x.comparator);const s=[];for(const e of Object.keys(t)){if(n[e]===undefined){s.push(t[e])}else{s.push(n[e])}}this._searchResult=s.sort(x.comparator)}this.stateChanged.emit(undefined)}_performAction(e,t){const n=new URL(_,this.serverConnectionSettings.baseUrl);const a={method:"POST",body:JSON.stringify({cmd:e,extension_name:t.name})};const r=s.ServerConnection.makeRequest(n.toString(),a,this.serverConnectionSettings).then((e=>{x.handleError(e);this.triggerBuildCheck();return e.json()}));r.then((()=>{this.serverConnectionError=null}),(e=>{this.serverConnectionError=e.toString()}));this._addPendingAction(r);return r}_addPendingAction(e){this._pendingActions.push(e);const t=()=>{const t=this._pendingActions.indexOf(e);this._pendingActions.splice(t,1);this.stateChanged.emit(undefined)};e.then(t,t);this.stateChanged.emit(undefined)}}let k=false;(function(e){function t(e){if(!e.installed||!e.latest_version){return false}return o.lt(e.installed_version,e.latest_version)}e.entryHasUpdate=t;function n(){return k}e.isDisclaimed=n;function a(){k=!k}e.toogleDisclaimed=a})(E||(E={}));var x;(function(e){function t(e,t){if(e.name===t.name){return 0}const n=y(e.name);const a=y(t.name);if(n===a){return 0}else if(n&&!a){return-1}else{return 1}}e.comparator=t;function n(e,t){if(!t){return[]}const n=[];let a=null;let s=null;if(e.kernel_spec.language){a=new RegExp(e.kernel_spec.language)}if(e.kernel_spec.display_name){s=new RegExp(e.kernel_spec.display_name)}for(const r of Object.keys(t.kernelspecs)){const e=t.kernelspecs[r];let i=false;if(a){i=a.test(e.language)}if(!i&&s){i=s.test(e.display_name)}if(i){n.push(e);continue}}return n}e.matchSpecs=n;function a(e){if(!e.ok){throw new Error(`${e.status} (${e.statusText})`)}return e}e.handleError=a})(x||(x={}));var w=n(29131);var C=n(37492);var P=n.n(C);const j=w.caretDownIcon.bindprops({height:"auto",width:"20px"});const L=w.caretRightIcon.bindprops({height:"auto",width:"20px"});const N=32;const O=Math.floor(devicePixelRatio*N);class S extends l.Component{constructor(e){super(e);this.handleChange=e=>{const t=e.target;this.setState({value:t.value})};this.state={value:""}}render(){return l.createElement("div",{className:"jp-extensionmanager-search-bar"},l.createElement(w.InputGroup,{className:"jp-extensionmanager-search-wrapper",type:"text",placeholder:this.props.placeholder,onChange:this.handleChange,value:this.state.value,rightIcon:"ui-components:search",disabled:this.props.disabled}))}}function A(e){const t=e.translator||r.nullTranslator;const n=t.load("jupyterlab");return l.createElement("div",{className:"jp-extensionmanager-buildprompt"},l.createElement("div",{className:"jp-extensionmanager-buildmessage"},n.__("A build is needed to include the latest changes")),l.createElement(w.Button,{onClick:e.performBuild,minimal:true,small:true},n.__("Rebuild")),l.createElement(w.Button,{onClick:e.ignoreBuild,minimal:true,small:true},n.__("Ignore")))}function R(e){if(e.url&&e.url.startsWith("https://github.com/")){return e.url.split("/")[3]}return null}function B(e){var t;const{entry:n,listMode:s,viewType:i}=e;const o=e.translator||r.nullTranslator;const c=o.load("jupyterlab");const u=[];if(n.status&&["ok","warning","error"].indexOf(n.status)!==-1){u.push(`jp-extensionmanager-entry-${n.status}`)}let d=n.name;const p=y(n.name);if(p){d=c.__("%1 (Developed by Project Jupyter)",n.name)}const h=R(n);if(s==="block"&&n.blockedExtensionsEntry&&i==="searchResult"){return l.createElement("li",null)}if(s==="allow"&&!n.allowedExtensionsEntry&&i==="searchResult"){return l.createElement("li",null)}if(s==="block"&&((t=n.blockedExtensionsEntry)===null||t===void 0?void 0:t.name)){u.push(`jp-extensionmanager-entry-should-be-uninstalled`)}if(s==="allow"&&!n.allowedExtensionsEntry){u.push(`jp-extensionmanager-entry-should-be-uninstalled`)}return l.createElement("li",{className:`jp-extensionmanager-entry ${u.join(" ")}`,title:d,style:{display:"flex"}},l.createElement("div",{style:{marginRight:"8px"}},h&&l.createElement("img",{src:`https://github.com/${h}.png?size=${O}`,style:{width:"32px",height:"32px"}}),!h&&l.createElement("div",{style:{width:`${N}px`,height:`${N}px`}})),l.createElement("div",{className:"jp-extensionmanager-entry-description"},l.createElement("div",{className:"jp-extensionmanager-entry-title"},l.createElement("div",{className:"jp-extensionmanager-entry-name"},n.url?l.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.name):l.createElement("div",null,n.name)),n.blockedExtensionsEntry&&l.createElement(a.ToolbarButtonComponent,{icon:w.listingsInfoIcon,iconLabel:c.__("%1 extension has been blockedExtensions since install. Please uninstall immediately and contact your blockedExtensions administrator.",n.name),onClick:()=>window.open("https://jupyterlab.readthedocs.io/en/3.4.x/user/extensions.html")}),!n.allowedExtensionsEntry&&i==="installed"&&s==="allow"&&l.createElement(a.ToolbarButtonComponent,{icon:w.listingsInfoIcon,iconLabel:c.__("%1 extension has been removed from the allowedExtensions since installation. Please uninstall immediately and contact your allowedExtensions administrator.",n.name),onClick:()=>window.open("https://jupyterlab.readthedocs.io/en/3.4.x/user/extensions.html")}),p&&l.createElement(w.jupyterIcon.react,{className:"jp-extensionmanager-is-jupyter-org",top:"1px",height:"auto",width:"1em"})),l.createElement("div",{className:"jp-extensionmanager-entry-content"},l.createElement("div",{className:"jp-extensionmanager-entry-description"},n.description),l.createElement("div",{className:"jp-extensionmanager-entry-buttons"},!n.installed&&n.pkg_type=="source"&&!n.blockedExtensionsEntry&&!(!n.allowedExtensionsEntry&&s==="allow")&&E.isDisclaimed()&&l.createElement(w.Button,{onClick:()=>e.performAction("install",n),minimal:true,small:true},c.__("Install")),E.entryHasUpdate(n)&&n.pkg_type=="source"&&!n.blockedExtensionsEntry&&!(!n.allowedExtensionsEntry&&s==="allow")&&E.isDisclaimed()&&l.createElement(w.Button,{onClick:()=>e.performAction("install",n),minimal:true,small:true},c.__("Update")),n.installed&&n.pkg_type=="source"&&l.createElement(w.Button,{onClick:()=>e.performAction("uninstall",n),minimal:true,small:true},c.__("Uninstall")),n.enabled&&n.pkg_type=="source"&&l.createElement(w.Button,{onClick:()=>e.performAction("disable",n),minimal:true,small:true},c.__("Disable")),n.installed&&n.pkg_type=="source"&&!n.enabled&&l.createElement(w.Button,{onClick:()=>e.performAction("enable",n),minimal:true,small:true},c.__("Enable")),n.installed&&n.pkg_type=="prebuilt"&&l.createElement("div",{className:"jp-extensionmanager-entry-buttons"},l.createElement(w.Button,{onClick:()=>(0,a.showDialog)({title:d,body:l.createElement("div",null,D(n,c)),buttons:[a.Dialog.okButton({label:c.__("OK"),caption:c.__("OK")})]}).then((e=>e.button.accept)),minimal:true,small:true},c.__("About")))))))}function D(e,t){var n,a;if((n=e.install)===null||n===void 0?void 0:n.uninstallInstructions){return l.createElement("div",null,l.createElement("p",null,t.__(`This is a prebuilt extension. To uninstall it, please\n    apply following instructions.`)),l.createElement("p",null,t.__((a=e.install)===null||a===void 0?void 0:a.uninstallInstructions)))}return l.createElement("div",null,l.createElement("p",null,t.__(`This is a prebuilt extension. To uninstall it, please\n    read the user guide on:`)),l.createElement("p",null,l.createElement("a",{href:"https://jupyterlab.readthedocs.io/en/3.4.x/user/extensions.html",target:"_blank",rel:"noopener noreferrer"},"https://jupyterlab.readthedocs.io/en/3.4.x/user/extensions.html")))}function T(e){const t=e.translator||r.nullTranslator;const n=t.load("jupyterlab");const a=[];for(const r of e.entries){a.push(l.createElement(B,{entry:r,listMode:e.listMode,viewType:e.viewType,key:r.name,performAction:e.performAction,translator:t}))}let s;if(e.numPages>1){s=l.createElement("div",{className:"jp-extensionmanager-pagination"},l.createElement(P(),{previousLabel:"<",nextLabel:">",breakLabel:l.createElement("a",{href:""},"..."),breakClassName:"break-me",pageCount:e.numPages,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:t=>e.onPage(t.selected),containerClassName:"pagination",activeClassName:"active"}))}const i=l.createElement("ul",{className:"jp-extensionmanager-listview"},a);return l.createElement("div",{className:"jp-extensionmanager-listview-wrapper"},a.length>0?i:l.createElement("div",{key:"message",className:"jp-extensionmanager-listview-message"},n.__("No entries")),s)}function I(e){return l.createElement("div",{key:"error-msg",className:"jp-extensionmanager-error"},e.children)}class q extends l.Component{constructor(e){super(e);this.state={isOpen:e.isOpen?true:false}}render(){let e=this.state.isOpen?j:L;let t=this.state.isOpen;let n="jp-extensionmanager-headerText";if(this.props.disabled){e=L;t=false;n="jp-extensionmanager-headerTextDisabled"}return l.createElement(l.Fragment,null,l.createElement("div",{className:"jp-stack-panel-header"},l.createElement(a.ToolbarButtonComponent,{icon:e,onClick:()=>{this.handleCollapse()}}),l.createElement("span",{className:n},this.props.header),!this.props.disabled&&this.props.headerElements),l.createElement(w.Collapse,{isOpen:t},this.props.children))}handleCollapse(){this.setState({isOpen:!this.state.isOpen},(()=>{if(this.props.onCollapse){this.props.onCollapse(this.state.isOpen)}}))}UNSAFE_componentWillReceiveProps(e){if(e.forceOpen){this.setState({isOpen:true})}}}class $ extends a.VDomRenderer{constructor(e,t,n,a){super(new E(e,t,n,a));this.translator=a||r.nullTranslator;this._trans=this.translator.load("jupyterlab");this._settings=n;this._forceOpen=false;this.addClass("jp-extensionmanager-view")}get inputNode(){return this.node.querySelector(".jp-extensionmanager-search-wrapper input")}render(){var e,t;const n=this.model;if(!n.listMode){return[l.createElement("div",{key:"empty"})]}if(n.listMode==="invalid"){return[l.createElement("div",{style:{padding:8},key:"invalid"},l.createElement("div",null,this._trans.__(`The extension manager is disabled. Please contact your system\nadministrator to verify the listings configuration.`)),l.createElement("div",null,l.createElement("a",{href:"https://jupyterlab.readthedocs.io/en/3.4.x/user/extensions.html",target:"_blank",rel:"noopener noreferrer"},this._trans.__("Read more in the JupyterLab documentation."))))]}const s=Math.ceil(n.totalEntries/n.pagination);const r=[l.createElement(S,{key:"searchbar",placeholder:this._trans.__("SEARCH"),disabled:!E.isDisclaimed(),settings:this._settings})];if(n.promptBuild){r.push(l.createElement(A,{key:"promt",translator:this.translator,performBuild:()=>{n.performBuild()},ignoreBuild:()=>{n.ignoreBuildRecommendation()}}))}r.push(l.createElement("div",{key:"pending",className:`jp-extensionmanager-pending ${n.hasPendingActions()?"jp-mod-hasPending":""}`}));const i=[];i.push(l.createElement(q,{key:"warning-section",isOpen:!E.isDisclaimed(),disabled:false,header:this._trans.__("Warning")},l.createElement("div",{className:"jp-extensionmanager-disclaimer"},l.createElement("div",null,this._trans.__(`The JupyterLab development team is excited to have a robust\nthird-party extension community. However, we do not review\nthird-party extensions, and some extensions may introduce security\nrisks or contain malicious code that runs on your machine.`)),l.createElement("div",{style:{paddingTop:8}},E.isDisclaimed()&&l.createElement(w.Button,{className:"jp-extensionmanager-disclaimer-disable",onClick:e=>{this._settings.set("disclaimed",false).catch((e=>{console.error(`Something went wrong when setting disclaimed.\n${e}`)}))}},this._trans.__("Disable")),!E.isDisclaimed()&&l.createElement(w.Button,{className:"jp-extensionmanager-disclaimer-enable",onClick:e=>{this._forceOpen=true;this._settings.set("disclaimed",true).catch((e=>{console.error(`Something went wrong when setting disclaimed.\n${e}`)}))}},this._trans.__("Enable"))))));if(!n.initialized){i.push(l.createElement("div",{key:"loading-placeholder",className:"jp-extensionmanager-loader"},this._trans.__("Updating extensions list")))}else if(n.serverConnectionError!==null){i.push(l.createElement(I,{key:"error-msg"},l.createElement("p",null,this._trans.__(`Error communicating with server extension. Consult the documentation\n            for how to ensure that it is enabled.`)),l.createElement("p",null,this._trans.__("Reason given:")),l.createElement("pre",null,n.serverConnectionError)))}else if(n.serverRequirementsError!==null){i.push(l.createElement(I,{key:"server-requirements-error"},l.createElement("p",null,this._trans.__("The server has some missing requirements for installing extensions.")),l.createElement("p",null,this._trans.__("Details:")),l.createElement("pre",null,n.serverRequirementsError)))}else{const r=[];if(n.installedError!==null){r.push(l.createElement(I,{key:"install-error"},`Error querying installed extensions${n.installedError?`: ${n.installedError}`:"."}`))}else{const a=new RegExp((t=(e=n.query)===null||e===void 0?void 0:e.toLowerCase())!==null&&t!==void 0?t:"");r.push(l.createElement(T,{key:"installed-items",listMode:n.listMode,viewType:"installed",entries:n.installed.filter((e=>!n.query||a.test(e.name))),numPages:1,translator:this.translator,onPage:e=>{},performAction:this.onAction.bind(this)}))}i.push(l.createElement(q,{key:"installed-section",isOpen:E.isDisclaimed(),forceOpen:this._forceOpen,disabled:!E.isDisclaimed(),header:this._trans.__("Installed"),headerElements:l.createElement(a.ToolbarButtonComponent,{key:"refresh-button",icon:w.refreshIcon,onClick:()=>{n.refreshInstalled()},tooltip:this._trans.__("Refresh extension list")})},r));const o=[];if(n.searchError!==null){o.push(l.createElement(I,{key:"search-error"},`Error searching for extensions${n.searchError?`: ${n.searchError}`:"."}`))}else{o.push(l.createElement(T,{key:"search-items",listMode:n.listMode,viewType:"searchResult",entries:n.searchResult.filter((e=>n.installed.indexOf(e)===-1)),numPages:s,onPage:e=>{this.onPage(e)},performAction:this.onAction.bind(this),translator:this.translator}))}i.push(l.createElement(q,{key:"search-section",isOpen:E.isDisclaimed(),forceOpen:this._forceOpen,disabled:!E.isDisclaimed(),header:n.query?this._trans.__("Search Results"):this._trans.__("Discover"),onCollapse:e=>{if(e&&n.query===null){n.query=""}}},o))}r.push(l.createElement("div",{key:"content",className:"jp-extensionmanager-content"},i));this._forceOpen=false;return r}onSearch(e){this.model.query=e}onPage(e){this.model.page=e}onAction(e,t){switch(e){case"install":return this.model.install(t);case"uninstall":return this.model.uninstall(t);case"enable":return this.model.enable(t);case"disable":return this.model.disable(t);default:throw new Error(`Invalid action: ${e}`)}}handleEvent(e){switch(e.type){case"input":this.onSearch(this.inputNode.value);break;case"focus":case"blur":this._toggleFocused();break;default:break}}onBeforeAttach(e){this.node.addEventListener("input",this);this.node.addEventListener("focus",this,true);this.node.addEventListener("blur",this,true)}onAfterDetach(e){this.node.removeEventListener("input",this);this.node.removeEventListener("focus",this,true);this.node.removeEventListener("blur",this,true)}onActivateRequest(e){if(this.isAttached){const e=this.inputNode;if(e){e.focus();e.select()}}}_toggleFocused(){const e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}}}}]);
//# sourceMappingURL=9189.e4a0adb1d060757d644e.js.map?v=e4a0adb1d060757d644e