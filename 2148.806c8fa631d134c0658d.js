"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[2148],{2148:(e,n,t)=>{t.r(n);t.d(n,{default:()=>C});var o=t(27425);var i=t(98679);var r=t(68299);var l=t(50724);var a=t(22635);var c=t(37900);var s=t.n(c);const d="availableProviders";function m(e){const{schema:n}=e;const t=n.title;const o=n.description;const i=e.formContext.settings;const r=i.get(d).user;const l={...n.default};if(r){for(const e of Object.keys(l)){if(e in r){l[e]=r[e]}else{l[e]=-1}}}const[a,m]=(0,c.useState)(l);const p=(e,n)=>{const t={...a,[e]:parseInt(n.target.value)};i.set(d,t).catch(console.error);m(t)};return s().createElement("div",null,s().createElement("fieldset",null,s().createElement("legend",null,t),s().createElement("p",{className:"field-description"},o),Object.keys(l).map((e=>s().createElement("div",{key:e,className:"form-group small-field"},s().createElement("div",null,s().createElement("h3",null," ",e),s().createElement("div",{className:"inputFieldWrapper"},s().createElement("input",{className:"form-control",type:"number",value:a[e],onChange:n=>{p(e,n)}}))))))))}const p="@jupyterlab/completer-extension:manager";const u="@jupyterlab/completer-extension:inline-completer";var v;(function(e){e.nextInline="inline-completer:next";e.previousInline="inline-completer:previous";e.acceptInline="inline-completer:accept";e.invokeInline="inline-completer:invoke"})(v||(v={}));const f={id:"@jupyterlab/completer-extension:base-service",description:"Adds context and kernel completion providers.",requires:[i.ICompletionProviderManager],autoStart:true,activate:(e,n)=>{n.registerProvider(new i.ContextCompleterProvider);n.registerProvider(new i.KernelCompleterProvider)}};const I={id:"@jupyterlab/completer-extension:inline-history",description:"Adds inline completion provider suggesting code from execution history.",requires:[i.ICompletionProviderManager],optional:[l.ITranslator],autoStart:true,activate:(e,n,t)=>{n.registerInlineProvider(new i.HistoryInlineCompletionProvider({translator:t!==null&&t!==void 0?t:l.nullTranslator}))}};const g={id:"@jupyterlab/completer-extension:inline-completer-factory",description:"Provides a factory for inline completer.",provides:i.IInlineCompleterFactory,optional:[l.ITranslator],autoStart:true,activate:(e,n)=>{const t=(n||l.nullTranslator).load("jupyterlab");return{factory:n=>{const r=new i.InlineCompleter({...n,trans:t});const l=n=>{const t=e.commands.keyBindings.find((e=>e.command===n));const o=t?a.CommandRegistry.formatKeystroke(t.keys):"";return o?`${o}`:""};const c={[v.previousInline]:l(v.previousInline),[v.nextInline]:l(v.nextInline),[v.acceptInline]:l(v.acceptInline)};e.commands.keyBindingChanged.connect(((e,n)=>{const t=n.binding.command;if(c.hasOwnProperty(t)){c[t]=l(t)}}));r.toolbar.addItem("previous-inline-completion",new o.CommandToolbarButton({commands:e.commands,icon:o.caretLeftIcon,id:v.previousInline,label:()=>c[v.previousInline],caption:t.__("Previous")}));r.toolbar.addItem("next-inline-completion",new o.CommandToolbarButton({commands:e.commands,icon:o.caretRightIcon,id:v.nextInline,label:()=>c[v.nextInline],caption:t.__("Next")}));r.toolbar.addItem("accept-inline-completion",new o.CommandToolbarButton({commands:e.commands,icon:o.checkIcon,id:v.acceptInline,label:()=>c[v.acceptInline],caption:t.__("Accept")}));return r}}}};const b={id:u,description:"Provides a factory for inline completer.",requires:[i.ICompletionProviderManager,i.IInlineCompleterFactory,r.ISettingRegistry],optional:[l.ITranslator],autoStart:true,activate:(e,n,t,o,i)=>{n.setInlineCompleterFactory(t);const r=(i||l.nullTranslator).load("jupyterlab");const a=()=>!!e.shell.currentWidget&&!!n.inline;e.commands.addCommand(v.nextInline,{execute:()=>{var t;(t=n.inline)===null||t===void 0?void 0:t.cycle(e.shell.currentWidget.id,"next")},label:r.__("Next Inline Completion"),isEnabled:a});e.commands.addCommand(v.previousInline,{execute:()=>{var t;(t=n.inline)===null||t===void 0?void 0:t.cycle(e.shell.currentWidget.id,"previous")},label:r.__("Previous Inline Completion"),isEnabled:a});e.commands.addCommand(v.acceptInline,{execute:()=>{var t;(t=n.inline)===null||t===void 0?void 0:t.accept(e.shell.currentWidget.id)},label:r.__("Accept Inline Completion"),isEnabled:a});e.commands.addCommand(v.invokeInline,{execute:()=>{var t;(t=n.inline)===null||t===void 0?void 0:t.invoke(e.shell.currentWidget.id)},label:r.__("Invoke Inline Completer"),isEnabled:a});const c=e=>{var t;(t=n.inline)===null||t===void 0?void 0:t.configure(e.composite)};e.restored.then((()=>{var e;const t=(e=n.inlineProviders)!==null&&e!==void 0?e:[];const i=e=>{var n,t;return{enabled:true,timeout:5e3,debouncerDelay:0,...(t=(n=e.schema)===null||n===void 0?void 0:n.default)!==null&&t!==void 0?t:{}}};o.transform(u,{compose:e=>{var n,o;const r=(n=e.data.composite["providers"])!==null&&n!==void 0?n:{};for(const l of t){const e=i(l);r[l.identifier]={...e,...(o=r[l.identifier])!==null&&o!==void 0?o:{}}}e.data["composite"]["providers"]=r;return e},fetch:e=>{var n,o;const l=e.schema.properties;const a={};for(const c of t){a[c.identifier]={title:r.__("%1 provider",c.name),properties:{...(o=(n=c.schema)===null||n===void 0?void 0:n.properties)!==null&&o!==void 0?o:{},timeout:{title:r.__("Timeout"),description:r.__("Timeout for %1 provider (in milliseconds).",c.name),type:"number",minimum:0},debouncerDelay:{title:r.__("Debouncer delay"),minimum:0,description:r.__("Time since the last key press to wait before requesting completions from %1 provider (in milliseconds).",c.name),type:"number"},enabled:{title:r.__("Enabled"),description:r.__("Whether to fetch completions %1 provider.",c.name),type:"boolean"}},default:i(c),type:"object"}}l["providers"]["properties"]=a;return e}});const l=o.load(u);l.then((e=>{c(e);e.changed.connect((e=>{c(e)}))})).catch(console.error)})).catch(console.error);const s=n=>e.commands.keyBindings.find((e=>e.command===n));const d={[v.acceptInline]:s(v.acceptInline),[v.invokeInline]:s(v.invokeInline)};e.commands.keyBindingChanged.connect(((e,n)=>{const t=n.binding.command;if(d.hasOwnProperty(t)){d[t]=s(t)}}));const m=n=>{if(!(n.target instanceof Element)){return}const t=n.target;switch(n.keyCode){case 9:{const o=[d[v.acceptInline],d[v.invokeInline]];for(const i of o){if(i&&i.keys.length===1&&i.keys[0]==="Tab"&&t.closest(i.selector)){e.commands.execute(i.command).catch(console.error);n.preventDefault();n.stopPropagation();n.stopImmediatePropagation();return}}break}default:return}};document.addEventListener("keydown",m,true)}};const y={id:p,description:"Provides the completion provider manager.",requires:[r.ISettingRegistry],optional:[o.IFormRendererRegistry],provides:i.ICompletionProviderManager,autoStart:true,activate:(e,n,t)=>{const o="availableProviders";const r="providerTimeout";const l="showDocumentationPanel";const a="autoCompletion";const c=new i.CompletionProviderManager;const s=(e,n)=>{var t;const i=e.get(o);const s=e.get(r);const d=e.get(l);const m=e.get(a);c.setTimeout(s.composite);c.setShowDocumentationPanel(d.composite);c.setContinuousHinting(m.composite);const p=(t=i.user)!==null&&t!==void 0?t:i.composite;const u=Object.entries(p!==null&&p!==void 0?p:{}).filter((e=>e[1]>=0&&n.includes(e[0]))).sort((([,e],[,n])=>n-e)).map((e=>e[0]));c.activateProvider(u)};e.restored.then((()=>{const e=[...c.getProviders().entries()];const t=e.map((([e,n])=>e));n.transform(p,{fetch:n=>{const t=n.schema.properties;const i={};e.forEach((([e,n],t)=>{var o;i[e]=(o=n.rank)!==null&&o!==void 0?o:(t+1)*10}));t[o]["default"]=i;return n}});const i=n.load(p);i.then((e=>{s(e,t);e.changed.connect((e=>{s(e,t)}))})).catch(console.error)})).catch(console.error);if(t){const e={fieldRenderer:e=>m(e)};t.addRenderer(`${p}.availableProviders`,e)}return c}};const h=[y,f,I,g,b];const C=h}}]);
//# sourceMappingURL=2148.806c8fa631d134c0658d.js.map?v=806c8fa631d134c0658d