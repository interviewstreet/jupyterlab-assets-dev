(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[6101,7186],{97186:(e,n,t)=>{"use strict";t.r(n);t.d(n,{default:()=>A,addCommands:()=>R});var a=t(10890);var r=t.n(a);var s=t(67616);var i=t.n(s);var o=t(17867);var c=t.n(o);var m=t(48305);var l=t.n(m);var d=t(90147);var u=t.n(d);var h=t(42911);var g=t.n(h);var f=t(95994);var _=t.n(f);var w=t(91625);var p=t.n(w);var v=t(70278);var y=t.n(v);var T=t(29131);var b=t.n(T);var I=t(47063);var C=t.n(I);var M=t(18453);var k=t.n(M);var N;(function(e){e.createNew="terminal:create-new";e.open="terminal:open";e.refresh="terminal:refresh";e.increaseFont="terminal:increase-font";e.decreaseFont="terminal:decrease-font";e.setTheme="terminal:set-theme"})(N||(N={}));const S={activate:E,id:"@jupyterlab/terminal-extension:plugin",provides:w.ITerminalTracker,requires:[f.ISettingRegistry,v.ITranslator],optional:[s.ICommandPalette,o.ILauncher,a.ILayoutRestorer,m.IMainMenu,s.IThemeManager,d.IRunningSessionManagers],autoStart:true};const A=S;function E(e,n,t,a,r,i,o,c,m){const l=t.load("jupyterlab");const{serviceManager:d,commands:u}=e;const h=l.__("Terminal");const g="terminal";const f=new s.WidgetTracker({namespace:g});if(!d.terminals.isAvailable()){console.warn("Disabling terminals plugin because they are not available on the server");return f}if(i){void i.restore(f,{command:N.createNew,args:e=>({name:e.content.session.name}),name:e=>e.content.session.name})}const _={};function w(e){Object.keys(e.composite).forEach((n=>{_[n]=e.composite[n]}))}function p(e){const n=e.content;if(!n){return}Object.keys(_).forEach((e=>{n.setOption(e,_[e])}))}function v(){f.forEach((e=>p(e)))}n.load(S.id).then((e=>{w(e);v();e.changed.connect((()=>{w(e);v()}))})).catch(F.showErrorMessage);c===null||c===void 0?void 0:c.themeChanged.connect(((e,n)=>{f.forEach((e=>{const n=e.content;if(n.getOption("theme")==="inherit"){n.setOption("theme","inherit")}}))}));R(e,f,n,t,_);if(o){const e=new M.Menu({commands:u});e.title.label=l._p("menu","Terminal Theme");e.addItem({command:N.setTheme,args:{theme:"inherit",displayName:l.__("Inherit"),isPalette:false}});e.addItem({command:N.setTheme,args:{theme:"light",displayName:l.__("Light"),isPalette:false}});e.addItem({command:N.setTheme,args:{theme:"dark",displayName:l.__("Dark"),isPalette:false}});o.settingsMenu.addGroup([{command:N.increaseFont},{command:N.decreaseFont},{type:"submenu",submenu:e}],40);o.fileMenu.newMenu.addItem({command:N.createNew,rank:20});o.fileMenu.closeAndCleaners.add({tracker:f,closeAndCleanupLabel:e=>l.__("Shutdown Terminal"),closeAndCleanup:e=>e.content.session.shutdown()})}if(a){[N.createNew,N.refresh,N.increaseFont,N.decreaseFont].forEach((e=>{a.addItem({command:e,category:h,args:{isPalette:true}})}));a.addItem({command:N.setTheme,category:h,args:{theme:"inherit",displayName:l.__("Inherit"),isPalette:true}});a.addItem({command:N.setTheme,category:h,args:{theme:"light",displayName:l.__("Light"),isPalette:true}});a.addItem({command:N.setTheme,category:h,args:{theme:"dark",displayName:l.__("Dark"),isPalette:true}})}if(r){r.add({command:N.createNew,category:l.__("Other"),rank:0})}if(m){P(m,e,t)}return f}function P(e,n,t){const a=t.load("jupyterlab");const r=n.serviceManager.terminals;e.add({name:a.__("Terminals"),running:()=>(0,I.toArray)(r.running()).map((e=>new s(e))),shutdownAll:()=>r.shutdownAll(),refreshRunning:()=>r.refreshRunning(),runningChanged:r.runningChanged,shutdownLabel:a.__("Shut Down"),shutdownAllLabel:a.__("Shut Down All"),shutdownAllConfirmationText:a.__("Are you sure you want to permanently shut down all running terminals?")});class s{constructor(e){this._model=e}open(){void n.commands.execute("terminal:open",{name:this._model.name})}icon(){return T.terminalIcon}label(){return`terminals/${this._model.name}`}shutdown(){return r.shutdown(this._model.name)}}}function R(e,n,t,a,r){const i=a.load("jupyterlab");const{commands:o,serviceManager:c}=e;o.addCommand(N.createNew,{label:e=>e["isPalette"]?i.__("New Terminal"):i.__("Terminal"),caption:i.__("Start a new terminal session"),icon:e=>e["isPalette"]?undefined:T.terminalIcon,execute:async t=>{let i;try{i=(await F.ensureWidget()).Terminal}catch(g){F.showErrorMessage(g);return}const o=t["name"];const m=t["cwd"];let l;if(o){const e=await h.TerminalAPI.listRunning();if(e.map((e=>e.name)).includes(o)){l=c.terminals.connectTo({model:{name:o}})}else{l=await c.terminals.startNew({name:o,cwd:m})}}else{l=await c.terminals.startNew({cwd:m})}const d=new i(l,r,e.commands,a);d.title.icon=T.terminalIcon;d.title.label="...";const u=new s.MainAreaWidget({content:d});e.shell.add(u,"main",{activate:t.activate!==false});void n.add(u);return u}});o.addCommand(N.open,{execute:t=>{const a=t["name"];const r=n.find((e=>{const n=e.content;return n.session.name===a||false}));if(r){if(t.activate!==false){e.shell.activateById(r.id)}}else{return o.execute(N.createNew,{name:a,activate:t.activate})}}});o.addCommand(N.refresh,{label:i.__("Refresh Terminal"),caption:i.__("Refresh the current terminal session"),execute:async()=>{const t=n.currentWidget;if(!t){return}e.shell.activateById(t.id);try{await t.content.refresh();if(t){t.content.activate()}}catch(a){F.showErrorMessage(a)}},isEnabled:()=>n.currentWidget!==null});o.addCommand(N.increaseFont,{label:i.__("Increase Terminal Font Size"),execute:async()=>{const{fontSize:e}=r;if(e&&e<72){try{await t.set(S.id,"fontSize",e+1)}catch(n){F.showErrorMessage(n)}}}});o.addCommand(N.decreaseFont,{label:i.__("Decrease Terminal Font Size"),execute:async()=>{const{fontSize:e}=r;if(e&&e>9){try{await t.set(S.id,"fontSize",e-1)}catch(n){F.showErrorMessage(n)}}}});const m={inherit:i.__("Inherit"),light:i.__("Light"),dark:i.__("Dark")};o.addCommand(N.setTheme,{label:e=>{const n=e["theme"];const t=n in m?m[n]:i.__(n[0].toUpperCase()+n.slice(1));return e["isPalette"]?i.__("Use Terminal Theme: %1",t):t},caption:i.__("Set the terminal theme"),isToggled:e=>{const{theme:n}=r;return e["theme"]===n},execute:async e=>{const n=e["theme"];try{await t.set(S.id,"theme",n);o.notifyCommandChanged(N.setTheme)}catch(a){console.log(a);F.showErrorMessage(a)}}})}var F;(function(e){function n(){if(e.widgetReady){return e.widgetReady}e.widgetReady=Promise.all([t.e(9022),t.e(8034),t.e(4936),t.e(2980)]).then(t.bind(t,32980));return e.widgetReady}e.ensureWidget=n;function a(e){console.error(`Failed to configure ${S.id}: ${e.message}`)}e.showErrorMessage=a})(F||(F={}))}}]);
//# sourceMappingURL=6101.cb365f3bf06a4b4321d6.js.map?v=cb365f3bf06a4b4321d6