"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[8626],{18626:(e,a,t)=>{t.r(a);t.d(a,{default:()=>O});var r=t(3167);var i=t.n(r);var o=t(68299);var d=t.n(o);var n=t(50724);var m=t.n(n);var s=t(27425);var l=t.n(s);var f=t(55172);var c=t.n(f);var u=t(93944);var p=t.n(u);const h="@jupyterlab/metadataform-extension:metadataforms";var v;(function(e){async function a(e,a,t,r,i){var o;let d;let n={};function m(e){n={};e.properties.metadataforms.default=Object.keys(a.plugins).map((e=>{var t;const r=(t=a.plugins[e].schema["jupyter.lab.metadataforms"])!==null&&t!==void 0?t:[];r.forEach((a=>{a._origin=e}));n[e]=r;return r})).concat([e["jupyter.lab.metadataforms"]]).reduce(((e,a)=>{a.forEach((a=>{const t=e.find((e=>e.id===a.id));if(t){for(let[e,r]of Object.entries(a.metadataSchema.properties)){t.metadataSchema.properties[e]=r}if(a.metadataSchema.required){if(!t.metadataSchema.required){t.metadataSchema.required=a.metadataSchema.required}else{t.metadataSchema.required.concat(a.metadataSchema.required)}}if(a.metadataSchema.allOf){if(!t.metadataSchema.allOf){t.metadataSchema.allOf=a.metadataSchema.allOf}else{t.metadataSchema.allOf.concat(a.metadataSchema.allOf)}}if(a.uiSchema){if(!t.uiSchema)t.uiSchema={};for(let[e,r]of Object.entries(a.uiSchema)){t.uiSchema[e]=r}}if(a.metadataOptions){if(!t.metadataOptions)t.metadataOptions={};for(let[e,r]of Object.entries(a.metadataOptions)){t.metadataOptions[e]=r}}}else{e.push(a)}}));return e}),[])}a.transform(h,{compose:e=>{var a,t,r,i;if(!d){d=f.JSONExt.deepCopy(e.schema);m(d)}const o=(r=(t=(a=d.properties)===null||a===void 0?void 0:a.metadataforms)===null||t===void 0?void 0:t.default)!==null&&r!==void 0?r:[];const n={metadataforms:(i=e.data.user.metadataforms)!==null&&i!==void 0?i:[]};const s={metadataforms:o.concat(n.metadataforms)};e.data={composite:s,user:n};return e},fetch:e=>{if(!d){d=f.JSONExt.deepCopy(e.schema);m(d)}return{data:e.data,id:e.id,raw:e.raw,schema:d,version:e.version}}});d=null;const s=await a.load(h);const l=new u.MetadataFormProvider;for(let c of s.composite.metadataforms){let e={};let a=f.JSONExt.deepCopy(c.metadataSchema);let d={};if(c.uiSchema){d=f.JSONExt.deepCopy(c.uiSchema)}for(let[t,r]of Object.entries(a.properties)){if(r.default){if(!e[t])e[t]={};e[t].default=r.default}}if(c.metadataOptions){for(let[a,t]of Object.entries(c.metadataOptions)){if(t.cellTypes){if(!e[a])e[a]={};e[a].cellTypes=t.cellTypes}if(t.metadataLevel){if(!e[a])e[a]={};e[a].level=t.metadataLevel}if(t.writeDefault!==undefined){if(!e[a])e[a]={};e[a].writeDefault=t.writeDefault}if(t.customRenderer){const e=i.getRenderer(t.customRenderer);if(e!==undefined){if(!d[a])d[a]={};if(e.fieldRenderer){d[a]["ui:field"]=e.fieldRenderer}else{d[a]["ui:widget"]=e.widgetRenderer}}}}}t.addSection({sectionName:c.id,rank:c.rank,label:(o=c.label)!==null&&o!==void 0?o:c.id});const n=new u.MetadataFormWidget({metadataSchema:a,metaInformation:e,uiSchema:d,pluginId:c._origin,translator:r,showModified:c.showModified});t.addItem({section:c.id,tool:n});l.add(c.id,n)}return l}e.loadSettingsMetadataForm=a})(v||(v={}));const S={id:h,description:"Provides the metadata form registry.",autoStart:true,requires:[r.INotebookTools,n.ITranslator,s.IFormRendererRegistry,o.ISettingRegistry],provides:u.IMetadataFormProvider,activate:async(e,a,t,r,i)=>await v.loadSettingsMetadataForm(e,i,a,t,r)};const O=S}}]);
//# sourceMappingURL=8626.03ab92fa0b1460067818.js.map?v=03ab92fa0b1460067818