"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3765],{63765:(e,n,t)=>{t.r(n);t.d(n,{CommandIDs:()=>A,default:()=>T});var a=t(49655);var o=t.n(a);var r=t(87447);var l=t.n(r);var d=t(78098);var i=t.n(d);var u=t(95009);var s=t.n(u);var c=t(4702);var m=t.n(c);var p=t(68299);var _=t.n(p);var b=t(50724);var v=t.n(b);var g=t(27425);var h=t.n(g);var C=t(10535);var w=t.n(C);var f=t(55172);var y=t.n(f);var S=t(65178);var M=t.n(S);const k="@jupyterlab/mainmenu-extension:plugin";var A;(function(e){e.openEdit="editmenu:open";e.undo="editmenu:undo";e.redo="editmenu:redo";e.clearCurrent="editmenu:clear-current";e.clearAll="editmenu:clear-all";e.find="editmenu:find";e.goToLine="editmenu:go-to-line";e.openFile="filemenu:open";e.closeAndCleanup="filemenu:close-and-cleanup";e.createConsole="filemenu:create-console";e.shutdown="filemenu:shutdown";e.logout="filemenu:logout";e.openKernel="kernelmenu:open";e.interruptKernel="kernelmenu:interrupt";e.reconnectToKernel="kernelmenu:reconnect-to-kernel";e.restartKernel="kernelmenu:restart";e.restartKernelAndClear="kernelmenu:restart-and-clear";e.changeKernel="kernelmenu:change";e.shutdownKernel="kernelmenu:shutdown";e.shutdownAllKernels="kernelmenu:shutdownAll";e.openView="viewmenu:open";e.wordWrap="viewmenu:word-wrap";e.lineNumbering="viewmenu:line-numbering";e.matchBrackets="viewmenu:match-brackets";e.openRun="runmenu:open";e.run="runmenu:run";e.runAll="runmenu:run-all";e.restartAndRunAll="runmenu:restart-and-run-all";e.runAbove="runmenu:run-above";e.runBelow="runmenu:run-below";e.openTabs="tabsmenu:open";e.activateById="tabsmenu:activate-by-id";e.activatePreviouslyUsedTab="tabsmenu:activate-previously-used-tab";e.openSettings="settingsmenu:open";e.openHelp="helpmenu:open";e.getKernel="helpmenu:get-kernel";e.openFirst="mainmenu:open-first"})(A||(A={}));const K={id:k,description:"Adds and provides the application main menu.",requires:[a.IRouter,b.ITranslator],optional:[r.ICommandPalette,a.ILabShell,p.ISettingRegistry],provides:u.IMainMenu,activate:async(e,n,t,a,o,r)=>{const{commands:l}=e;const i=t.load("jupyterlab");const s=new u.MainMenu(l);s.id="jp-MainMenu";s.addClass("jp-scrollbar-tiny");if(r){await L.loadSettingsMenu(r,(e=>{s.addMenu(e,false,{rank:e.rank})}),(e=>u.MainMenu.generateMenu(l,e,i)),t);s.update()}const c=d.PageConfig.getOption("quitButton").toLowerCase();s.fileMenu.quitEntry=c==="true";R(e,s.editMenu,i);E(e,s.fileMenu,n,i);x(e,s.kernelMenu,i);D(e,s.runMenu,i);I(e,s.viewMenu,i);B(e,s.helpMenu,i);if(o){O(e,s.tabsMenu,o,i)}const m=e=>{s.activeMenu=e;s.openActiveMenu()};l.addCommand(A.openEdit,{label:i.__("Open Edit Menu"),execute:()=>m(s.editMenu)});l.addCommand(A.openFile,{label:i.__("Open File Menu"),execute:()=>m(s.fileMenu)});l.addCommand(A.openKernel,{label:i.__("Open Kernel Menu"),execute:()=>m(s.kernelMenu)});l.addCommand(A.openRun,{label:i.__("Open Run Menu"),execute:()=>m(s.runMenu)});l.addCommand(A.openView,{label:i.__("Open View Menu"),execute:()=>m(s.viewMenu)});l.addCommand(A.openSettings,{label:i.__("Open Settings Menu"),execute:()=>m(s.settingsMenu)});l.addCommand(A.openTabs,{label:i.__("Open Tabs Menu"),execute:()=>m(s.tabsMenu)});l.addCommand(A.openHelp,{label:i.__("Open Help Menu"),execute:()=>m(s.helpMenu)});l.addCommand(A.openFirst,{label:i.__("Open First Menu"),execute:()=>{s.activeIndex=0;s.openActiveMenu()}});if(a){a.addItem({command:A.shutdown,category:i.__("Main Area")});a.addItem({command:A.logout,category:i.__("Main Area")});a.addItem({command:A.shutdownAllKernels,category:i.__("Kernel Operations")});a.addItem({command:A.activatePreviouslyUsedTab,category:i.__("Main Area")})}e.shell.add(s,"menu",{rank:100});return s}};function R(e,n,t){const o=e.commands;o.addCommand(A.undo,(0,a.createSemanticCommand)(e,n.undoers.undo,{label:t.__("Undo")},t));o.addCommand(A.redo,(0,a.createSemanticCommand)(e,n.undoers.redo,{label:t.__("Redo")},t));o.addCommand(A.clearCurrent,(0,a.createSemanticCommand)(e,n.clearers.clearCurrent,{label:t.__("Clear")},t));o.addCommand(A.clearAll,(0,a.createSemanticCommand)(e,n.clearers.clearAll,{label:t.__("Clear All")},t));o.addCommand(A.goToLine,(0,a.createSemanticCommand)(e,n.goToLiners,{label:t.__("Go to Line…")},t))}function E(e,n,t,o){const l=e.commands;l.addCommand(A.closeAndCleanup,{...(0,a.createSemanticCommand)(e,n.closeAndCleaners,{execute:"application:close",label:o.__("Close and Shut Down"),isEnabled:true},o),isEnabled:()=>!!e.shell.currentWidget&&!!e.shell.currentWidget.title.closable});l.addCommand(A.createConsole,(0,a.createSemanticCommand)(e,n.consoleCreators,{label:o.__("New Console for Activity")},o));l.addCommand(A.shutdown,{label:o.__("Shut Down"),caption:o.__("Shut down JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>(0,r.showDialog)({title:o.__("Shutdown confirmation"),body:o.__("Please confirm you want to shut down JupyterLab."),buttons:[r.Dialog.cancelButton(),r.Dialog.warnButton({label:o.__("Shut Down")})]}).then((async n=>{if(n.button.accept){const n=c.ServerConnection.makeSettings();const a=d.URLExt.join(n.baseUrl,"api/shutdown");try{await Promise.all([e.serviceManager.sessions.shutdownAll(),e.serviceManager.terminals.shutdownAll()])}catch(t){console.log(`Failed to shutdown sessions and terminals: ${t}`)}return c.ServerConnection.makeRequest(a,{method:"POST"},n).then((e=>{if(e.ok){const e=document.createElement("div");const n=document.createElement("p");n.textContent=o.__("You have shut down the Jupyter server. You can now close this tab.");const t=document.createElement("p");t.textContent=o.__("To use JupyterLab again, you will need to relaunch it.");e.appendChild(n);e.appendChild(t);void(0,r.showDialog)({title:o.__("Server stopped"),body:new S.Widget({node:e}),buttons:[]});window.close()}else{throw new c.ServerConnection.ResponseError(e)}})).catch((e=>{throw new c.ServerConnection.NetworkError(e)}))}}))});l.addCommand(A.logout,{label:o.__("Log Out"),caption:o.__("Log out of JupyterLab"),isVisible:()=>n.quitEntry,isEnabled:()=>n.quitEntry,execute:()=>{t.navigate("/logout",{hard:true})}})}function x(e,n,t){const o=e.commands;o.addCommand(A.interruptKernel,{...(0,a.createSemanticCommand)(e,n.kernelUsers.interruptKernel,{label:t.__("Interrupt Kernel"),caption:t.__("Interrupt the kernel")},t),icon:e=>e.toolbar?g.stopIcon:undefined});o.addCommand(A.reconnectToKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.reconnectToKernel,{label:t.__("Reconnect to Kernel")},t));o.addCommand(A.restartKernel,{...(0,a.createSemanticCommand)(e,n.kernelUsers.restartKernel,{label:t.__("Restart Kernel…"),caption:t.__("Restart the kernel")},t),icon:e=>e.toolbar?g.refreshIcon:undefined});o.addCommand(A.restartKernelAndClear,(0,a.createSemanticCommand)(e,[n.kernelUsers.restartKernel,n.kernelUsers.clearWidget],{label:t.__("Restart Kernel and Clear…")},t));o.addCommand(A.changeKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.changeKernel,{label:t.__("Change Kernel…")},t));o.addCommand(A.shutdownKernel,(0,a.createSemanticCommand)(e,n.kernelUsers.shutdownKernel,{label:t.__("Shut Down Kernel"),caption:t.__("Shut down kernel")},t));o.addCommand(A.shutdownAllKernels,{label:t.__("Shut Down All Kernels…"),isEnabled:()=>!e.serviceManager.sessions.running().next().done,execute:()=>(0,r.showDialog)({title:t.__("Shut Down All?"),body:t.__("Shut down all kernels?"),buttons:[r.Dialog.cancelButton({label:t.__("Dismiss")}),r.Dialog.warnButton({label:t.__("Shut Down All")})]}).then((n=>{if(n.button.accept){return e.serviceManager.sessions.shutdownAll()}}))})}function I(e,n,t){const o=e.commands;o.addCommand(A.lineNumbering,(0,a.createSemanticCommand)(e,n.editorViewers.toggleLineNumbers,{label:t.__("Show Line Numbers")},t));o.addCommand(A.matchBrackets,(0,a.createSemanticCommand)(e,n.editorViewers.toggleMatchBrackets,{label:t.__("Match Brackets")},t));o.addCommand(A.wordWrap,(0,a.createSemanticCommand)(e,n.editorViewers.toggleWordWrap,{label:t.__("Wrap Words")},t))}function D(e,n,t){const o=e.commands;o.addCommand(A.run,{...(0,a.createSemanticCommand)(e,n.codeRunners.run,{label:t.__("Run Selected"),caption:t.__("Run Selected")},t),icon:e=>e.toolbar?g.runIcon:undefined});o.addCommand(A.runAll,(0,a.createSemanticCommand)(e,n.codeRunners.runAll,{label:t.__("Run All"),caption:t.__("Run All")},t));o.addCommand(A.restartAndRunAll,{...(0,a.createSemanticCommand)(e,[n.codeRunners.restart,n.codeRunners.runAll],{label:t.__("Restart Kernel and Run All"),caption:t.__("Restart Kernel and Run All")},t),icon:e=>e.toolbar?g.fastForwardIcon:undefined})}function O(e,n,t,a){const o=e.commands;const r=[];let l;o.addCommand(A.activateById,{label:n=>{if(n.id===undefined){return a.__("Activate a widget by its `id`.")}const t=n["id"]||"";const o=(0,C.find)(e.shell.widgets("main"),(e=>e.id===t));return o&&o.title.label||""},isToggled:n=>{const t=n["id"]||"";return!!e.shell.currentWidget&&e.shell.currentWidget.id===t},execute:n=>e.shell.activateById(n["id"]||"")});let d="";o.addCommand(A.activatePreviouslyUsedTab,{label:a.__("Activate Previously Used Tab"),isEnabled:()=>!!d,execute:()=>o.execute(A.activateById,{id:d})});if(t){void e.restored.then((()=>{const a=()=>{if(l&&!l.isDisposed){l.dispose()}r.length=0;let t=false;for(const n of e.shell.widgets("main")){if(n.id===d){t=true}r.push({command:A.activateById,args:{id:n.id}})}l=n.addGroup(r,1);d=t?d:""};a();t.layoutModified.connect((()=>{a()}));t.currentChanged.connect(((e,n)=>{const t=n.oldValue;if(!t){return}d=t.id}))}))}}function B(e,n,t){e.commands.addCommand(A.getKernel,(0,a.createSemanticCommand)(e,n.getKernel,{label:t.__("Get Kernel"),isVisible:false},t))}const T=K;var L;(function(e){async function n(e){const n=await(0,r.showDialog)({title:e.__("Information"),body:e.__("Menu customization has changed. You will need to reload JupyterLab to see the changes."),buttons:[r.Dialog.cancelButton(),r.Dialog.okButton({label:e.__("Reload")})]});if(n.button.accept){location.reload()}}async function t(e,t,a,o){var l;const d=o.load("jupyterlab");let i=null;let u={};function s(n){var t,a;u={};const o=Object.keys(e.plugins).map((n=>{var t,a;const o=(a=(t=e.plugins[n].schema["jupyter.lab.menus"])===null||t===void 0?void 0:t.main)!==null&&a!==void 0?a:[];u[n]=o;return o})).concat([(a=(t=n["jupyter.lab.menus"])===null||t===void 0?void 0:t.main)!==null&&a!==void 0?a:[]]).reduceRight(((e,n)=>p.SettingRegistry.reconcileMenus(e,n,true)),n.properties.menus.default);n.properties.menus.default=p.SettingRegistry.reconcileMenus(o,n.properties.menus.default,true).sort(((e,n)=>{var t,a;return((t=e.rank)!==null&&t!==void 0?t:Infinity)-((a=n.rank)!==null&&a!==void 0?a:Infinity)}))}e.transform(k,{compose:e=>{var n,t,a,o;if(!i){i=f.JSONExt.deepCopy(e.schema);s(i)}const r=(a=(t=(n=i.properties)===null||n===void 0?void 0:n.menus)===null||t===void 0?void 0:t.default)!==null&&a!==void 0?a:[];const l={...e.data.user,menus:(o=e.data.user.menus)!==null&&o!==void 0?o:[]};const d={...e.data.composite,menus:p.SettingRegistry.reconcileMenus(r,l.menus)};e.data={composite:d,user:l};return e},fetch:e=>{if(!i){i=f.JSONExt.deepCopy(e.schema);s(i)}return{data:e.data,id:e.id,raw:e.raw,schema:i,version:e.version}}});const c=await e.load(k);const m=(l=f.JSONExt.deepCopy(c.composite.menus))!==null&&l!==void 0?l:[];const _=new Array;r.MenuFactory.createMenus(m.filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:p.SettingRegistry.filterDisabledItems((n=e.items)!==null&&n!==void 0?n:[])}})),a).forEach((e=>{_.push(e);t(e)}));c.changed.connect((()=>{var e;const t=(e=c.composite.menus)!==null&&e!==void 0?e:[];if(!f.JSONExt.deepEqual(m,t)){void n(d)}}));e.pluginChanged.connect((async(o,l)=>{var i,s,c;if(l!==k){const o=(i=u[l])!==null&&i!==void 0?i:[];const b=(c=(s=e.plugins[l].schema["jupyter.lab.menus"])===null||s===void 0?void 0:s.main)!==null&&c!==void 0?c:[];if(!f.JSONExt.deepEqual(o,b)){if(u[l]){await n(d)}else{u[l]=f.JSONExt.deepCopy(b);const e=p.SettingRegistry.reconcileMenus(b,m,false,false).filter((e=>!e.disabled)).map((e=>{var n;return{...e,items:p.SettingRegistry.filterDisabledItems((n=e.items)!==null&&n!==void 0?n:[])}}));r.MenuFactory.updateMenus(_,e,a).forEach((e=>{t(e)}))}}}}))}e.loadSettingsMenu=t})(L||(L={}))}}]);
//# sourceMappingURL=3765.f78aa9ed3e678beb5862.js.map?v=f78aa9ed3e678beb5862